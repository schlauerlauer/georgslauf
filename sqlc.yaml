version: "2"
sql:
  - engine: "sqlite"
    queries: "queries.sql"
    schema: "migrations"
    gen:
      go:
        package: "db"
        out: "internal/db"
        sql_package: "database/sql"
        # all possible overrides https://github.com/sqlc-dev/sqlc/blob/main/internal/codegen/golang/postgresql_type.go
        overrides:
          - column: "groups.short"
            go_type: "database/sql.NullString"
          - column: "groups.size"
            go_type: "database/sql.NullInt64"
          - column: "groups.image_id"
            go_type: "database/sql.NullString"

          - column: "schedule.end"
            go_type: "database/sql.NullInt64"

          - column: "stations.short"
            go_type: "database/sql.NullString"
          - column: "stations.lati"
            go_type: "database/sql.NullFloat64"
          - column: "stations.long"
            go_type: "database/sql.NullFloat64"
          - column: "stations.image_id"
            go_type: "database/sql.NullString"
          - column: "stations.description"
            go_type: "database/sql.NullString"
          - column: "stations.requirements"
            go_type: "database/sql.NullString"

          - column: "tribes.short"
            go_type: "database/sql.NullString"
          - column: "tribes.dpsg"
            go_type: "database/sql.NullString"
          - column: "tribes.image_id"
            go_type: "database/sql.NullString"
          - column: "tribes.email_domain"
            go_type: "database/sql.NullString"
          - column: "tribes.stavo_email"
            go_type: "database/sql.NullString"

          - column: "users.oauth"
            go_type: "database/sql.NullString"
          - column: "users.ext_id"
            go_type: "database/sql.NullString"

          - column: "images.tribe_id"
            go_type: "database/sql.NullInt64"
          - column: "images.station_id"
            go_type: "database/sql.NullInt64"
          - column: "images.created_by"
            go_type: "database/sql.NullInt64"

          - column: "users.tribe_id"
            go_type: "database/sql.NullInt64"
          - column: "users.station_id"
            go_type: "database/sql.NullInt64"
          - column: "users.role"
            go_type: "georgslauf/session.Role"

          - column: "tribe_roles.tribe_role"
            go_type: "georgslauf/acl.ACL"

          - column: "station_roles.station_role"
            go_type: "georgslauf/acl.ACL"

          - column: "group_roles.group_role"
            go_type: "georgslauf/acl.ACL"
