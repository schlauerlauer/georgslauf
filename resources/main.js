var tt=Object.create;var Be=Object.defineProperty;var nt=Object.getOwnPropertyDescriptor;var rt=Object.getOwnPropertyNames;var it=Object.getPrototypeOf,at=Object.prototype.hasOwnProperty;var Ve=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports);var ot=(e,n,r,i)=>{if(n&&typeof n=="object"||typeof n=="function")for(let f of rt(n))!at.call(e,f)&&f!==r&&Be(e,f,{get:()=>n[f],enumerable:!(i=nt(n,f))||i.enumerable});return e};var Ue=(e,n,r)=>(r=e!=null?tt(it(e)):{},ot(n||!e||!e.__esModule?Be(r,"default",{value:e,enumerable:!0}):r,e));var We=Ve((Fe,je)=>{(function(e,n){let r=n(e);typeof Fe=="object"&&typeof Fe.nodeName!="string"?je.exports=r:(e._hyperscript=r,"document"in e&&e._hyperscript.browserInit())})(typeof self<"u"?self:Fe,(e=>{"use strict";let n={dynamicResolvers:[function(S,a){if(S==="Fixed")return Number(a).toFixed();if(S.indexOf("Fixed:")===0){let u=S.split(":")[1];return Number(a).toFixed(parseInt(u))}}],String:function(S){return S.toString?S.toString():""+S},Int:function(S){return parseInt(S)},Float:function(S){return parseFloat(S)},Number:function(S){return Number(S)},Date:function(S){return new Date(S)},Array:function(S){return Array.from(S)},JSON:function(S){return JSON.stringify(S)},Object:function(S){return S instanceof String&&(S=S.toString()),typeof S=="string"?JSON.parse(S):Object.assign({},S)}},r={attributes:"_, script, data-script",defaultTransition:"all 500ms ease-in",disableSelector:"[disable-scripting], [data-disable-scripting]",hideShowStrategies:{},conversions:n};class i{static OP_TABLE={"+":"PLUS","-":"MINUS","*":"MULTIPLY","/":"DIVIDE",".":"PERIOD","..":"ELLIPSIS","\\":"BACKSLASH",":":"COLON","%":"PERCENT","|":"PIPE","!":"EXCLAMATION","?":"QUESTION","#":"POUND","&":"AMPERSAND",$:"DOLLAR",";":"SEMI",",":"COMMA","(":"L_PAREN",")":"R_PAREN","<":"L_ANG",">":"R_ANG","<=":"LTE_ANG",">=":"GTE_ANG","==":"EQ","===":"EQQ","!=":"NEQ","!==":"NEQQ","{":"L_BRACE","}":"R_BRACE","[":"L_BRACKET","]":"R_BRACKET","=":"EQUALS","~":"TILDE"};static isValidCSSClassChar(a){return i.isAlpha(a)||i.isNumeric(a)||a==="-"||a==="_"||a===":"}static isValidCSSIDChar(a){return i.isAlpha(a)||i.isNumeric(a)||a==="-"||a==="_"||a===":"}static isWhitespace(a){return a===" "||a==="	"||i.isNewline(a)}static positionString(a){return"[Line: "+a.line+", Column: "+a.column+"]"}static isNewline(a){return a==="\r"||a===`
`}static isNumeric(a){return a>="0"&&a<="9"}static isAlpha(a){return a>="a"&&a<="z"||a>="A"&&a<="Z"}static isIdentifierChar(a,u){return a==="_"||a==="$"}static isReservedChar(a){return a==="`"||a==="^"}static isValidSingleQuoteStringStart(a){if(a.length>0){var u=a[a.length-1];if(u.type==="IDENTIFIER"||u.type==="CLASS_REF"||u.type==="ID_REF"||u.op&&(u.value===">"||u.value===")"))return!1}return!0}static tokenize(a,u){var v=[],g=a,A=0,y=0,T=1,p="<START>",q=0;function N(){return u&&q===0}for(;A<g.length;)if(m()==="-"&&E()==="-"&&(i.isWhitespace(b(2))||b(2)===""||b(2)==="-")||m()==="/"&&E()==="/"&&(i.isWhitespace(b(2))||b(2)===""||b(2)==="/"))D();else if(m()==="/"&&E()==="*"&&(i.isWhitespace(b(2))||b(2)===""||b(2)==="*"))P();else if(i.isWhitespace(m()))v.push(W());else if(!L()&&m()==="."&&(i.isAlpha(E())||E()==="{"||E()==="-"))v.push(V());else if(!L()&&m()==="#"&&(i.isAlpha(E())||E()==="{"))v.push(s());else if(m()==="["&&E()==="@")v.push(M());else if(m()==="@")v.push(j());else if(m()==="*"&&i.isAlpha(E()))v.push(_());else if(N()&&(i.isAlpha(m())||m()==="\\"))v.push(l());else if(!N()&&(i.isAlpha(m())||i.isIdentifierChar(m())))v.push(t());else if(i.isNumeric(m()))v.push(o());else if(!N()&&(m()==='"'||m()==="`"))v.push(c());else if(!N()&&m()==="'")i.isValidSingleQuoteStringStart(v)?v.push(c()):v.push(h());else if(i.OP_TABLE[m()])p==="$"&&m()==="{"&&q++,m()==="}"&&q--,v.push(h());else if(N()||i.isReservedChar(m()))v.push(I("RESERVED",k()));else if(A<g.length)throw Error("Unknown token: "+m()+" ");return new f(v,[],g);function O(C,R){var G=I(C,R);return G.op=!0,G}function I(C,R){return{type:C,value:R||"",start:A,end:A+1,column:y,line:T}}function D(){for(;m()&&!i.isNewline(m());)k();k()}function P(){for(;m()&&!(m()==="*"&&E()==="/");)k();k(),k()}function V(){var C=I("CLASS_REF"),R=k();if(m()==="{"){for(C.template=!0,R+=k();m()&&m()!=="}";)R+=k();if(m()!=="}")throw Error("Unterminated class reference");R+=k()}else for(;i.isValidCSSClassChar(m())||m()==="\\";)m()==="\\"&&k(),R+=k();return C.value=R,C.end=A,C}function M(){for(var C=I("ATTRIBUTE_REF"),R=k();A<g.length&&m()!=="]";)R+=k();return m()==="]"&&(R+=k()),C.value=R,C.end=A,C}function j(){for(var C=I("ATTRIBUTE_REF"),R=k();i.isValidCSSIDChar(m());)R+=k();if(m()==="="){if(R+=k(),m()==='"'||m()==="'"){let G=c();R+=G.value}else if(i.isAlpha(m())||i.isNumeric(m())||i.isIdentifierChar(m())){let G=t();R+=G.value}}return C.value=R,C.end=A,C}function _(){for(var C=I("STYLE_REF"),R=k();i.isAlpha(m())||m()==="-";)R+=k();return C.value=R,C.end=A,C}function s(){var C=I("ID_REF"),R=k();if(m()==="{"){for(C.template=!0,R+=k();m()&&m()!=="}";)R+=k();if(m()!=="}")throw Error("Unterminated id reference");k()}else for(;i.isValidCSSIDChar(m());)R+=k();return C.value=R,C.end=A,C}function l(){var C=I("IDENTIFIER"),R=k(),G=R==="\\";for(G&&(R="");(i.isAlpha(m())||i.isNumeric(m())||i.isIdentifierChar(m())||m()==="\\"||m()==="{"||m()==="}")&&!(m()==="$"&&G===!1);)m()==="\\"?(G=!0,k()):(G=!1,R+=k());return m()==="!"&&R==="beep"&&(R+=k()),C.value=R,C.end=A,C}function t(){for(var C=I("IDENTIFIER"),R=k();i.isAlpha(m())||i.isNumeric(m())||i.isIdentifierChar(m());)R+=k();return m()==="!"&&R==="beep"&&(R+=k()),C.value=R,C.end=A,C}function o(){for(var C=I("NUMBER"),R=k();i.isNumeric(m());)R+=k();for(m()==="."&&i.isNumeric(E())&&(R+=k());i.isNumeric(m());)R+=k();for((m()==="e"||m()==="E")&&(i.isNumeric(E())?R+=k():E()==="-"&&(R+=k(),R+=k()));i.isNumeric(m());)R+=k();return C.value=R,C.end=A,C}function h(){for(var C=O(),R=k();m()&&i.OP_TABLE[R+m()];)R+=k();return C.type=i.OP_TABLE[R],C.value=R,C.end=A,C}function c(){var C=I("STRING"),R=k();C.template=R==="`";for(var G="";m()&&m()!==R;)if(m()==="\\"){k();let U=k();if(U==="b")G+="\b";else if(U==="f")G+="\f";else if(U==="n")G+=`
`;else if(U==="r")G+="\r";else if(U==="t")G+="	";else if(U==="v")G+="\v";else if(C.template&&U==="$")G+="\\$";else if(U==="x"){let K=d();if(Number.isNaN(K))throw Error("Invalid hexadecimal escape at "+i.positionString(C));G+=String.fromCharCode(K)}else G+=U}else G+=k();if(m()!==R)throw Error("Unterminated string at "+i.positionString(C));return k(),C.value=G,C.end=A,C}function d(){if(!m())return NaN;let R=16*Number.parseInt(k(),16);return m()?(R+=Number.parseInt(k(),16),R):NaN}function m(){return g.charAt(A)}function E(){return g.charAt(A+1)}function b(C=1){return g.charAt(A+C)}function k(){return p=m(),A++,y++,p}function L(){return i.isAlpha(p)||i.isNumeric(p)||p===")"||p==='"'||p==="'"||p==="`"||p==="}"||p==="]"}function W(){for(var C=I("WHITESPACE"),R="";m()&&i.isWhitespace(m());)i.isNewline(m())&&(y=0,T++),R+=k();return C.value=R,C.end=A,C}}tokenize(a,u){return i.tokenize(a,u)}}class f{constructor(a,u,v){this.tokens=a,this.consumed=u,this.source=v,this.consumeWhitespace()}get list(){return this.tokens}_lastConsumed=null;consumeWhitespace(){for(;this.token(0,!0).type==="WHITESPACE";)this.consumed.push(this.tokens.shift())}raiseError(a,u){x.raiseParseError(a,u)}requireOpToken(a){var u=this.matchOpToken(a);if(u)return u;this.raiseError(this,"Expected '"+a+"' but found '"+this.currentToken().value+"'")}matchAnyOpToken(a,u,v){for(var g=0;g<arguments.length;g++){var A=arguments[g],y=this.matchOpToken(A);if(y)return y}}matchAnyToken(a,u,v){for(var g=0;g<arguments.length;g++){var A=arguments[g],y=this.matchToken(A);if(y)return y}}matchOpToken(a){if(this.currentToken()&&this.currentToken().op&&this.currentToken().value===a)return this.consumeToken()}requireTokenType(a,u,v,g){var A=this.matchTokenType(a,u,v,g);if(A)return A;this.raiseError(this,"Expected one of "+JSON.stringify([a,u,v]))}matchTokenType(a,u,v,g){if(this.currentToken()&&this.currentToken().type&&[a,u,v,g].indexOf(this.currentToken().type)>=0)return this.consumeToken()}requireToken(a,u){var v=this.matchToken(a,u);if(v)return v;this.raiseError(this,"Expected '"+a+"' but found '"+this.currentToken().value+"'")}peekToken(a,u,v){if(u=u||0,v=v||"IDENTIFIER",this.tokens[u]&&this.tokens[u].value===a&&this.tokens[u].type===v)return this.tokens[u]}matchToken(a,u){if(this.follows.indexOf(a)===-1&&(u=u||"IDENTIFIER",this.currentToken()&&this.currentToken().value===a&&this.currentToken().type===u))return this.consumeToken()}consumeToken(){var a=this.tokens.shift();return this.consumed.push(a),this._lastConsumed=a,this.consumeWhitespace(),a}consumeUntil(a,u){for(var v=[],g=this.token(0,!0);(u==null||g.type!==u)&&(a==null||g.value!==a)&&g.type!=="EOF";){var A=this.tokens.shift();this.consumed.push(A),v.push(g),g=this.token(0,!0)}return this.consumeWhitespace(),v}lastWhitespace(){return this.consumed[this.consumed.length-1]&&this.consumed[this.consumed.length-1].type==="WHITESPACE"?this.consumed[this.consumed.length-1].value:""}consumeUntilWhitespace(){return this.consumeUntil(null,"WHITESPACE")}hasMore(){return this.tokens.length>0}token(a,u){var v,g=0;do{if(!u)for(;this.tokens[g]&&this.tokens[g].type==="WHITESPACE";)g++;v=this.tokens[g],a--,g++}while(a>-1);return v||{type:"EOF",value:"<<<EOF>>>"}}currentToken(){return this.token(0)}lastMatch(){return this._lastConsumed}static sourceFor=function(){return this.programSource.substring(this.startToken.start,this.endToken.end)};static lineFor=function(){return this.programSource.split(`
`)[this.startToken.line-1]};follows=[];pushFollow(a){this.follows.push(a)}popFollow(){this.follows.pop()}clearFollows(){var a=this.follows;return this.follows=[],a}restoreFollows(a){this.follows=a}}class x{constructor(a){this.runtime=a,this.possessivesDisabled=!1,this.addGrammarElement("feature",(function(u,v,g){if(g.matchOpToken("(")){var A=u.requireElement("feature",g);return g.requireOpToken(")"),A}var y=u.FEATURES[g.currentToken().value||""];if(y)return y(u,v,g)})),this.addGrammarElement("command",(function(u,v,g){if(g.matchOpToken("(")){let T=u.requireElement("command",g);return g.requireOpToken(")"),T}var A=u.COMMANDS[g.currentToken().value||""];let y;return A?y=A(u,v,g):g.currentToken().type==="IDENTIFIER"&&(y=u.parseElement("pseudoCommand",g)),y&&u.parseElement("indirectStatement",g,y)})),this.addGrammarElement("commandList",(function(u,v,g){if(g.hasMore()){var A=u.parseElement("command",g);if(A){g.matchToken("then");let y=u.parseElement("commandList",g);return y&&(A.next=y),A}}return{type:"emptyCommandListCommand",op:function(y){return v.findNext(this,y)},execute:function(y){return v.unifiedExec(this,y)}}})),this.addGrammarElement("leaf",(function(u,v,g){var A=u.parseAnyOf(u.LEAF_EXPRESSIONS,g);return A??u.parseElement("symbol",g)})),this.addGrammarElement("indirectExpression",(function(u,v,g,A){for(var y=0;y<u.INDIRECT_EXPRESSIONS.length;y++){var T=u.INDIRECT_EXPRESSIONS[y];A.endToken=g.lastMatch();var p=u.parseElement(T,g,A);if(p)return p}return A})),this.addGrammarElement("indirectStatement",(function(u,v,g,A){if(g.matchToken("unless")){A.endToken=g.lastMatch();var y=u.requireElement("expression",g),T={type:"unlessStatementModifier",args:[y],op:function(p,q){return q?this.next:A},execute:function(p){return v.unifiedExec(this,p)}};return A.parent=T,T}return A})),this.addGrammarElement("primaryExpression",(function(u,v,g){var A=u.parseElement("leaf",g);if(A)return u.parseElement("indirectExpression",g,A);u.raiseParseError(g,"Unexpected value: "+g.currentToken().value)}))}use(a){return a(this),this}GRAMMAR={};COMMANDS={};FEATURES={};LEAF_EXPRESSIONS=[];INDIRECT_EXPRESSIONS=[];initElt(a,u,v){a.startToken=u,a.sourceFor=f.sourceFor,a.lineFor=f.lineFor,a.programSource=v.source}parseElement(a,u,v=void 0){var g=this.GRAMMAR[a];if(g){var A=u.currentToken(),y=g(this,this.runtime,u,v);if(y){this.initElt(y,A,u),y.endToken=y.endToken||u.lastMatch();for(var v=y.root;v!=null;)this.initElt(v,A,u),v=v.root}return y}}requireElement(a,u,v,g){var A=this.parseElement(a,u,g);return A||x.raiseParseError(u,v||"Expected "+a),A}parseAnyOf(a,u){for(var v=0;v<a.length;v++){var g=a[v],A=this.parseElement(g,u);if(A)return A}}addGrammarElement(a,u){this.GRAMMAR[a]=u}addCommand(a,u){var v=a+"Command",g=function(A,y,T){let p=u(A,y,T);if(p)return p.type=v,p.execute=function(q){return q.meta.command=p,y.unifiedExec(this,q)},p};this.GRAMMAR[v]=g,this.COMMANDS[a]=g}addFeature(a,u){var v=a+"Feature",g=function(A,y,T){var p=u(A,y,T);if(p)return p.isFeature=!0,p.keyword=a,p.type=v,p};this.GRAMMAR[v]=g,this.FEATURES[a]=g}addLeafExpression(a,u){this.LEAF_EXPRESSIONS.push(a),this.addGrammarElement(a,u)}addIndirectExpression(a,u){this.INDIRECT_EXPRESSIONS.push(a),this.addGrammarElement(a,u)}static createParserContext(a){var u=a.currentToken(),v=a.source,g=v.split(`
`),A=u&&u.line?u.line-1:g.length-1,y=g[A],T=u&&u.line?u.column:y.length-1;return y+`
`+" ".repeat(T)+`^^

`}static raiseParseError(a,u){u=(u||"Unexpected Token : "+a.currentToken().value)+`

`+x.createParserContext(a);var v=new Error(u);throw v.tokens=a,v}raiseParseError(a,u){x.raiseParseError(a,u)}parseHyperScript(a){var u=this.parseElement("hyperscript",a);if(a.hasMore()&&this.raiseParseError(a),u)return u}setParent(a,u){typeof a=="object"&&(a.parent=u,typeof u=="object"&&(u.children=u.children||new Set,u.children.add(a)),this.setParent(a.next,u))}commandStart(a){return this.COMMANDS[a.value||""]}featureStart(a){return this.FEATURES[a.value||""]}commandBoundary(a){return!!(a.value=="end"||a.value=="then"||a.value=="else"||a.value=="otherwise"||a.value==")"||this.commandStart(a)||this.featureStart(a)||a.type=="EOF")}parseStringTemplate(a){var u=[""];do if(u.push(a.lastWhitespace()),a.currentToken().value==="$"){a.consumeToken();var v=a.matchOpToken("{");u.push(this.requireElement("expression",a)),v&&a.requireOpToken("}"),u.push("")}else if(a.currentToken().value==="\\")a.consumeToken(),a.consumeToken();else{var g=a.consumeToken();u[u.length-1]+=g?g.value:""}while(a.hasMore());return u.push(a.lastWhitespace()),u}ensureTerminated(a){let u=this.runtime;for(var v={type:"implicitReturn",op:function(A){return A.meta.returned=!0,A.meta.resolve&&A.meta.resolve(),u.HALT},execute:function(A){}},g=a;g.next;)g=g.next;g.next=v}}class w{constructor(a,u){this.lexer=a??new i,this.parser=u??new x(this).use(le).use(ae),this.parser.runtime=this}matchesSelector(a,u){var v=a.matches||a.matchesSelector||a.msMatchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.oMatchesSelector;return v&&v.call(a,u)}makeEvent(a,u){var v;return e.Event&&typeof e.Event=="function"?(v=new Event(a,{bubbles:!0,cancelable:!0,composed:!0}),v.detail=u):(v=document.createEvent("CustomEvent"),v.initCustomEvent(a,!0,!0,u)),v}triggerEvent(a,u,v,g){v=v||{},v.sender=g;var A=this.makeEvent(u,v),y=a.dispatchEvent(A);return y}isArrayLike(a){return Array.isArray(a)||typeof NodeList<"u"&&(a instanceof NodeList||a instanceof HTMLCollection||a instanceof FileList)}isIterable(a){return typeof a=="object"&&Symbol.iterator in a&&typeof a[Symbol.iterator]=="function"}shouldAutoIterate(a){return a!=null&&a[ie]||this.isArrayLike(a)}forEach(a,u){if(a!=null)if(this.isIterable(a))for(let g of a)u(g);else if(this.isArrayLike(a))for(var v=0;v<a.length;v++)u(a[v]);else u(a)}implicitLoop(a,u){if(this.shouldAutoIterate(a))for(let v of a)u(v);else u(a)}wrapArrays(a){for(var u=[],v=0;v<a.length;v++){var g=a[v];Array.isArray(g)?u.push(Promise.all(g)):u.push(g)}return u}unwrapAsyncs(a){for(var u=0;u<a.length;u++){var v=a[u];if(v.asyncWrapper&&(a[u]=v.value),Array.isArray(v))for(var g=0;g<v.length;g++){var A=v[g];A.asyncWrapper&&(v[g]=A.value)}}}static HALT={};HALT=w.HALT;unifiedExec(a,u){for(;;){try{var v=this.unifiedEval(a,u)}catch(g){if(u.meta.handlingFinally)console.error(" Exception in finally block: ",g),v=w.HALT;else if(this.registerHyperTrace(u,g),u.meta.errorHandler&&!u.meta.handlingError){u.meta.handlingError=!0,u.locals[u.meta.errorSymbol]=g,a=u.meta.errorHandler;continue}else u.meta.currentException=g,v=w.HALT}if(v==null){console.error(a," did not return a next element to execute! context: ",u);return}else if(v.then){v.then((g=>{this.unifiedExec(g,u)})).catch((g=>{this.unifiedExec({op:function(){throw g}},u)}));return}else if(v===w.HALT)if(u.meta.finallyHandler&&!u.meta.handlingFinally)u.meta.handlingFinally=!0,a=u.meta.finallyHandler;else if(u.meta.onHalt&&u.meta.onHalt(),u.meta.currentException)if(u.meta.reject){u.meta.reject(u.meta.currentException);return}else throw u.meta.currentException;else return;else a=v}}unifiedEval(a,u,v){var g=[u],A=!1,y=!1;if(a.args)for(var T=0;T<a.args.length;T++){var p=a.args[T];if(p==null)g.push(null);else if(Array.isArray(p)){for(var q=[],N=0;N<p.length;N++){var O=p[N],I=O?O.evaluate(u):null;I&&(I.then?A=!0:I.asyncWrapper&&(y=!0)),q.push(I)}g.push(q)}else if(p.evaluate){var I=p.evaluate(u);if(I&&(I.then?A=!0:I.asyncWrapper&&(y=!0)),g.push(I),I){if(v===!0)break}else if(v===!1)break}else g.push(p)}return A?new Promise(((D,P)=>{g=this.wrapArrays(g),Promise.all(g).then((function(V){y&&this.unwrapAsyncs(V);try{var M=a.op.apply(a,V);D(M)}catch(j){P(j)}})).catch((function(V){P(V)}))})):(y&&this.unwrapAsyncs(g),a.op.apply(a,g))}_scriptAttrs=null;getScriptAttributes(){return this._scriptAttrs==null&&(this._scriptAttrs=r.attributes.replace(/ /g,"").split(",")),this._scriptAttrs}getScript(a){for(var u=0;u<this.getScriptAttributes().length;u++){var v=this.getScriptAttributes()[u];if(a.hasAttribute&&a.hasAttribute(v))return a.getAttribute(v)}return a instanceof HTMLScriptElement&&a.type==="text/hyperscript"?a.innerText:null}hyperscriptFeaturesMap=new WeakMap;getHyperscriptFeatures(a){var u=this.hyperscriptFeaturesMap.get(a);return typeof u>"u"&&a&&this.hyperscriptFeaturesMap.set(a,u={}),u}addFeatures(a,u){a&&(Object.assign(u.locals,this.getHyperscriptFeatures(a)),this.addFeatures(a.parentElement,u))}makeContext(a,u,v,g){return new X(a,u,v,g,this)}getScriptSelector(){return this.getScriptAttributes().map((function(a){return"["+a+"]"})).join(", ")}convertValue(a,u){for(var v=n.dynamicResolvers,g=0;g<v.length;g++){var A=v[g],y=A(u,a);if(y!==void 0)return y}if(a==null)return null;var T=n[u];if(T)return T(a);throw"Unknown conversion : "+u}parse(a){let u=this.lexer,v=this.parser;var g=u.tokenize(a);if(this.parser.commandStart(g.currentToken())){var A=v.requireElement("commandList",g);return g.hasMore()&&v.raiseParseError(g),v.ensureTerminated(A),A}else if(v.featureStart(g.currentToken())){var y=v.requireElement("hyperscript",g);return g.hasMore()&&v.raiseParseError(g),y}else{var T=v.requireElement("expression",g);return g.hasMore()&&v.raiseParseError(g),T}}evaluateNoPromise(a,u){let v=a.evaluate(u);if(v.next)throw new Error(f.sourceFor.call(a)+" returned a Promise in a context that they are not allowed.");return v}evaluate(a,u,v){class g extends EventTarget{constructor(q){super(),this.module=q}toString(){return this.module.id}}var A="document"in e?e.document.body:new g(v&&v.module);u=Object.assign(this.makeContext(A,null,A,null),u||{});var y=this.parse(a);if(y.execute)return y.execute(u),typeof u.meta.returnValue<"u"?u.meta.returnValue:u.result;return y.apply?(y.apply(A,A,v),this.getHyperscriptFeatures(A)):y.evaluate(u);function T(){return{}}}processNode(a){var u=this.getScriptSelector();this.matchesSelector(a,u)&&this.initElement(a,a),a instanceof HTMLScriptElement&&a.type==="text/hyperscript"&&this.initElement(a,document.body),a.querySelectorAll&&this.forEach(a.querySelectorAll(u+", [type='text/hyperscript']"),(v=>{this.initElement(v,v instanceof HTMLScriptElement&&v.type==="text/hyperscript"?document.body:v)}))}initElement(a,u){if(!(a.closest&&a.closest(r.disableSelector))){var v=this.getInternalData(a);if(!v.initialized){var g=this.getScript(a);if(g)try{v.initialized=!0,v.script=g;let T=this.lexer,p=this.parser;var A=T.tokenize(g),y=p.parseHyperScript(A);if(!y)return;y.apply(u||a,a),setTimeout((()=>{this.triggerEvent(u||a,"load",{hyperscript:!0})}),1)}catch(T){this.triggerEvent(a,"exception",{error:T}),console.error("hyperscript errors were found on the following element:",a,`

`,T.message,T.stack)}}}}internalDataMap=new WeakMap;getInternalData(a){var u=this.internalDataMap.get(a);return typeof u>"u"&&this.internalDataMap.set(a,u={}),u}typeCheck(a,u,v){if(a==null&&v)return!0;var g=Object.prototype.toString.call(a).slice(8,-1);return g===u}getElementScope(a){var u=a.meta&&a.meta.owner;if(u){var v=this.getInternalData(u),g="elementScope";a.meta.feature&&a.meta.feature.behavior&&(g=a.meta.feature.behavior+"Scope");var A=Y(v,g);return A}else return{}}isReservedWord(a){return["meta","it","result","locals","event","target","detail","sender","body"].includes(a)}isHyperscriptContext(a){return a instanceof X}resolveSymbol(a,u,v){if(a==="me"||a==="my"||a==="I")return u.me;if(a==="it"||a==="its"||a==="result")return u.result;if(a==="you"||a==="your"||a==="yourself")return u.you;if(v==="global")return e[a];if(v==="element"){var g=this.getElementScope(u);return g[a]}else{if(v==="local")return u.locals[a];if(u.meta&&u.meta.context){var A=u.meta.context[a];if(typeof A<"u"||u.meta.context.detail&&(A=u.meta.context.detail[a],typeof A<"u"))return A}if(this.isHyperscriptContext(u)&&!this.isReservedWord(a))var y=u.locals[a];else var y=u[a];if(typeof y<"u")return y;var g=this.getElementScope(u);return y=g[a],typeof y<"u"?y:e[a]}}setSymbol(a,u,v,g){if(v==="global")e[a]=g;else if(v==="element"){var A=this.getElementScope(u);A[a]=g}else if(v==="local")u.locals[a]=g;else if(this.isHyperscriptContext(u)&&!this.isReservedWord(a)&&typeof u.locals[a]<"u")u.locals[a]=g;else{var A=this.getElementScope(u),y=A[a];typeof y<"u"?A[a]=g:this.isHyperscriptContext(u)&&!this.isReservedWord(a)?u.locals[a]=g:u[a]=g}}findNext(a,u){if(a)return a.resolveNext?a.resolveNext(u):a.next?a.next:this.findNext(a.parent,u)}flatGet(a,u,v){if(a!=null){var g=v(a,u);if(typeof g<"u")return g;if(this.shouldAutoIterate(a)){var A=[];for(var y of a){var T=v(y,u);A.push(T)}return A}}}resolveProperty(a,u){return this.flatGet(a,u,((v,g)=>v[g]))}resolveAttribute(a,u){return this.flatGet(a,u,((v,g)=>v.getAttribute&&v.getAttribute(g)))}resolveStyle(a,u){return this.flatGet(a,u,((v,g)=>v.style&&v.style[g]))}resolveComputedStyle(a,u){return this.flatGet(a,u,((v,g)=>getComputedStyle(v).getPropertyValue(g)))}assignToNamespace(a,u,v,g){let A;typeof document<"u"&&a===document.body?A=e:A=this.getHyperscriptFeatures(a);for(var y;(y=u.shift())!==void 0;){var T=A[y];T==null&&(T={},A[y]=T),A=T}A[v]=g}getHyperTrace(a,u){for(var v=[],g=a;g.meta.caller;)g=g.meta.caller;if(g.meta.traceMap)return g.meta.traceMap.get(u,v)}registerHyperTrace(a,u){for(var v=[],g=null;a!=null;)v.push(a),g=a,a=a.meta.caller;if(g.meta.traceMap==null&&(g.meta.traceMap=new Map),!g.meta.traceMap.get(u)){var A={trace:v,print:function(y){y=y||console.error,y("hypertrace /// ");for(var T=0,p=0;p<v.length;p++)T=Math.max(T,v[p].meta.feature.displayName.length);for(var p=0;p<v.length;p++){var q=v[p];y("  ->",q.meta.feature.displayName.padEnd(T+2),"-",q.meta.owner)}}};g.meta.traceMap.set(u,A)}}escapeSelector(a){return a.replace(/[:&()\[\]\/]/g,(function(u){return"\\"+u}))}nullCheck(a,u){if(a==null)throw new Error("'"+u.sourceFor()+"' is null")}isEmpty(a){return a==null||a.length===0}doesExist(a){if(a==null)return!1;if(this.shouldAutoIterate(a)){for(let u of a)return!0;return!1}return!0}getRootNode(a){if(a&&a instanceof Node){var u=a.getRootNode();if(u instanceof Document||u instanceof ShadowRoot)return u}return document}getEventQueueFor(a,u){let v=this.getInternalData(a);var g=v.eventQueues;g==null&&(g=new Map,v.eventQueues=g);var A=g.get(u);return A==null&&(A={queue:[],executing:!1},g.set(u,A)),A}beepValueToConsole(a,u,v){if(this.triggerEvent(a,"hyperscript:beep",{element:a,expression:u,value:v})){var g;v?v instanceof z?g="ElementCollection":v.constructor?g=v.constructor.name:g="unknown":g="object (null)";var A=v;g==="String"?A='"'+A+'"':v instanceof z&&(A=Array.from(v)),console.log("///_ BEEP! The expression ("+f.sourceFor.call(u).replace("beep! ","")+") evaluates to:",A,"of type "+g)}}hyperscriptUrl="document"in e&&document.currentScript?document.currentScript.src:null}function H(){return document.cookie.split("; ").map((a=>{let u=a.split("=");return{name:u[0],value:decodeURIComponent(u[1])}}))}function F(S){document.cookie=S+"=;expires=Thu, 01 Jan 1970 00:00:00 GMT"}function B(){for(let S of H())F(S.name)}let $=new Proxy({},{get(S,a){if(a==="then"||a==="asyncWrapper")return null;if(a==="length")return H().length;if(a==="clear")return F;if(a==="clearAll")return B;if(typeof a=="string")if(isNaN(a)){let u=document.cookie.split("; ").find((v=>v.startsWith(a+"=")))?.split("=")[1];if(u)return decodeURIComponent(u)}else return H()[parseInt(a)];else if(a===Symbol.iterator)return H()[a]},set(S,a,u){var v=null;return typeof u=="string"?(v=encodeURIComponent(u),v+=";samesite=lax"):(v=encodeURIComponent(u.value),u.expires&&(v+=";expires="+u.maxAge),u.maxAge&&(v+=";max-age="+u.maxAge),u.partitioned&&(v+=";partitioned="+u.partitioned),u.path&&(v+=";path="+u.path),u.samesite&&(v+=";samesite="+u.path),u.secure&&(v+=";secure="+u.path)),document.cookie=a+"="+v,!0}});class X{constructor(a,u,v,g,A){this.meta={parser:A.parser,lexer:A.lexer,runtime:A,owner:a,feature:u,iterators:{},ctx:this},this.locals={cookies:$},this.me=v,this.you=void 0,this.result=void 0,this.event=g,this.target=g?g.target:null,this.detail=g?g.detail:null,this.sender=g&&g.detail?g.detail.sender:null,this.body="document"in e?document.body:null,A.addFeatures(a,this)}}class z{constructor(a,u,v){this._css=a,this.relativeToElement=u,this.escape=v,this[ie]=!0}get css(){return this.escape?w.prototype.escapeSelector(this._css):this._css}get className(){return this._css.substr(1)}get id(){return this.className()}contains(a){for(let u of this)if(u.contains(a))return!0;return!1}get length(){return this.selectMatches().length}[Symbol.iterator](){return this.selectMatches()[Symbol.iterator]()}selectMatches(){return w.prototype.getRootNode(this.relativeToElement).querySelectorAll(this.css)}}let ie=Symbol();function Y(S,a){var u=S[a];if(u)return u;var v={};return S[a]=v,v}function te(S){try{return JSON.parse(S)}catch(a){return ee(a),null}}function ee(S){console.error?console.error(S):console.log&&console.log("ERROR: ",S)}function oe(S,a){return new(S.bind.apply(S,[S].concat(a)))}function le(S){S.addLeafExpression("parenthesized",(function(s,l,t){if(t.matchOpToken("(")){var o=t.clearFollows();try{var h=s.requireElement("expression",t)}finally{t.restoreFollows(o)}return t.requireOpToken(")"),h}})),S.addLeafExpression("string",(function(s,l,t){var o=t.matchTokenType("STRING");if(o){var h=o.value,c;if(o.template){var d=i.tokenize(h,!0);c=s.parseStringTemplate(d)}else c=[];return{type:"string",token:o,args:c,op:function(m){for(var E="",b=1;b<arguments.length;b++){var k=arguments[b];k!==void 0&&(E+=k)}return E},evaluate:function(m){return c.length===0?h:l.unifiedEval(this,m)}}}})),S.addGrammarElement("nakedString",(function(s,l,t){if(t.hasMore()){var o=t.consumeUntilWhitespace();return t.matchTokenType("WHITESPACE"),{type:"nakedString",tokens:o,evaluate:function(h){return o.map((function(c){return c.value})).join("")}}}})),S.addLeafExpression("number",(function(s,l,t){var o=t.matchTokenType("NUMBER");if(o){var h=o,c=parseFloat(o.value);return{type:"number",value:c,numberToken:h,evaluate:function(){return c}}}})),S.addLeafExpression("idRef",(function(s,l,t){var o=t.matchTokenType("ID_REF");if(o&&o.value)if(o.template){var h=o.value.substring(2),c=i.tokenize(h),d=s.requireElement("expression",c);return{type:"idRefTemplate",args:[d],op:function(m,E){return l.getRootNode(m.me).getElementById(E)},evaluate:function(m){return l.unifiedEval(this,m)}}}else{let m=o.value.substring(1);return{type:"idRef",css:o.value,value:m,evaluate:function(E){return l.getRootNode(E.me).getElementById(m)}}}})),S.addLeafExpression("classRef",(function(s,l,t){var o=t.matchTokenType("CLASS_REF");if(o&&o.value)if(o.template){var h=o.value.substring(2),c=i.tokenize(h),d=s.requireElement("expression",c);return{type:"classRefTemplate",args:[d],op:function(m,E){return new z("."+E,m.me,!0)},evaluate:function(m){return l.unifiedEval(this,m)}}}else{let m=o.value;return{type:"classRef",css:m,evaluate:function(E){return new z(m,E.me,!0)}}}}));class a extends z{constructor(l,t,o){super(l,t),this.templateParts=o,this.elements=o.filter((h=>h instanceof Element))}get css(){let l="",t=0;for(let o of this.templateParts)o instanceof Element?l+="[data-hs-query-id='"+t+++"']":l+=o;return l}[Symbol.iterator](){this.elements.forEach(((t,o)=>t.dataset.hsQueryId=o));let l=super[Symbol.iterator]();return this.elements.forEach((t=>t.removeAttribute("data-hs-query-id"))),l}}S.addLeafExpression("queryRef",(function(s,l,t){var o=t.matchOpToken("<");if(o){var h=t.consumeUntil("/");t.requireOpToken("/"),t.requireOpToken(">");var c=h.map((function(b){return b.type==="STRING"?'"'+b.value+'"':b.value})).join(""),d,m,E;return/\$[^=]/.test(c)&&(d=!0,m=i.tokenize(c,!0),E=s.parseStringTemplate(m)),{type:"queryRef",css:c,args:E,op:function(b,...k){return d?new a(c,b.me,k):new z(c,b.me)},evaluate:function(b){return l.unifiedEval(this,b)}}}})),S.addLeafExpression("attributeRef",(function(s,l,t){var o=t.matchTokenType("ATTRIBUTE_REF");if(o&&o.value){var h=o.value;if(h.indexOf("[")===0)var c=h.substring(2,h.length-1);else var c=h.substring(1);var d="["+c+"]",m=c.split("="),E=m[0],b=m[1];return b&&b.indexOf('"')===0&&(b=b.substring(1,b.length-1)),{type:"attributeRef",name:E,css:d,value:b,op:function(k){var L=k.you||k.me;if(L)return L.getAttribute(E)},evaluate:function(k){return l.unifiedEval(this,k)}}}})),S.addLeafExpression("styleRef",(function(s,l,t){var o=t.matchTokenType("STYLE_REF");if(o&&o.value){var h=o.value.substr(1);return h.startsWith("computed-")?(h=h.substr(9),{type:"computedStyleRef",name:h,op:function(c){var d=c.you||c.me;if(d)return l.resolveComputedStyle(d,h)},evaluate:function(c){return l.unifiedEval(this,c)}}):{type:"styleRef",name:h,op:function(c){var d=c.you||c.me;if(d)return l.resolveStyle(d,h)},evaluate:function(c){return l.unifiedEval(this,c)}}}})),S.addGrammarElement("objectKey",(function(s,l,t){var o;if(o=t.matchTokenType("STRING"))return{type:"objectKey",key:o.value,evaluate:function(){return o.value}};if(t.matchOpToken("[")){var h=s.parseElement("expression",t);return t.requireOpToken("]"),{type:"objectKey",expr:h,args:[h],op:function(d,m){return m},evaluate:function(d){return l.unifiedEval(this,d)}}}else{var c="";do o=t.matchTokenType("IDENTIFIER")||t.matchOpToken("-"),o&&(c+=o.value);while(o);return{type:"objectKey",key:c,evaluate:function(){return c}}}})),S.addLeafExpression("objectLiteral",(function(s,l,t){if(t.matchOpToken("{")){var o=[],h=[];if(!t.matchOpToken("}")){do{var c=s.requireElement("objectKey",t);t.requireOpToken(":");var d=s.requireElement("expression",t);h.push(d),o.push(c)}while(t.matchOpToken(",")&&!t.peekToken("}",0,"R_BRACE"));t.requireOpToken("}")}return{type:"objectLiteral",args:[o,h],op:function(m,E,b){for(var k={},L=0;L<E.length;L++)k[E[L]]=b[L];return k},evaluate:function(m){return l.unifiedEval(this,m)}}}})),S.addGrammarElement("nakedNamedArgumentList",(function(s,l,t){var o=[],h=[];if(t.currentToken().type==="IDENTIFIER")do{var c=t.requireTokenType("IDENTIFIER");t.requireOpToken(":");var d=s.requireElement("expression",t);h.push(d),o.push({name:c,value:d})}while(t.matchOpToken(","));return{type:"namedArgumentList",fields:o,args:[h],op:function(m,E){for(var b={_namedArgList_:!0},k=0;k<E.length;k++){var L=o[k];b[L.name.value]=E[k]}return b},evaluate:function(m){return l.unifiedEval(this,m)}}})),S.addGrammarElement("namedArgumentList",(function(s,l,t){if(t.matchOpToken("(")){var o=s.requireElement("nakedNamedArgumentList",t);return t.requireOpToken(")"),o}})),S.addGrammarElement("symbol",(function(s,l,t){var o="default";t.matchToken("global")?o="global":t.matchToken("element")||t.matchToken("module")?(o="element",t.matchOpToken("'")&&t.requireToken("s")):t.matchToken("local")&&(o="local");let h=t.matchOpToken(":"),c=t.matchTokenType("IDENTIFIER");if(c&&c.value){var d=c.value;return h&&(d=":"+d),o==="default"&&(d.indexOf("$")===0&&(o="global"),d.indexOf(":")===0&&(o="element")),{type:"symbol",token:c,scope:o,name:d,evaluate:function(m){return l.resolveSymbol(d,m,o)}}}})),S.addGrammarElement("implicitMeTarget",(function(s,l,t){return{type:"implicitMeTarget",evaluate:function(o){return o.you||o.me}}})),S.addLeafExpression("boolean",(function(s,l,t){var o=t.matchToken("true")||t.matchToken("false");if(!o)return;let h=o.value==="true";return{type:"boolean",evaluate:function(c){return h}}})),S.addLeafExpression("null",(function(s,l,t){if(t.matchToken("null"))return{type:"null",evaluate:function(o){return null}}})),S.addLeafExpression("arrayLiteral",(function(s,l,t){if(t.matchOpToken("[")){var o=[];if(!t.matchOpToken("]")){do{var h=s.requireElement("expression",t);o.push(h)}while(t.matchOpToken(","));t.requireOpToken("]")}return{type:"arrayLiteral",values:o,args:[o],op:function(c,d){return d},evaluate:function(c){return l.unifiedEval(this,c)}}}})),S.addLeafExpression("blockLiteral",(function(s,l,t){if(t.matchOpToken("\\")){var o=[],h=t.matchTokenType("IDENTIFIER");if(h)for(o.push(h);t.matchOpToken(",");)o.push(t.requireTokenType("IDENTIFIER"));t.requireOpToken("-"),t.requireOpToken(">");var c=s.requireElement("expression",t);return{type:"blockLiteral",args:o,expr:c,evaluate:function(d){var m=function(){for(var E=0;E<o.length;E++)d.locals[o[E].value]=arguments[E];return c.evaluate(d)};return m}}}})),S.addIndirectExpression("propertyAccess",(function(s,l,t,o){if(t.matchOpToken(".")){var h=t.requireTokenType("IDENTIFIER"),c={type:"propertyAccess",root:o,prop:h,args:[o],op:function(d,m){var E=l.resolveProperty(m,h.value);return E},evaluate:function(d){return l.unifiedEval(this,d)}};return s.parseElement("indirectExpression",t,c)}})),S.addIndirectExpression("of",(function(s,l,t,o){if(t.matchToken("of")){for(var h=s.requireElement("unaryExpression",t),c=null,d=o;d.root;)c=d,d=d.root;d.type!=="symbol"&&d.type!=="attributeRef"&&d.type!=="styleRef"&&d.type!=="computedStyleRef"&&s.raiseParseError(t,"Cannot take a property of a non-symbol: "+d.type);var m=d.type==="attributeRef",E=d.type==="styleRef"||d.type==="computedStyleRef";if(m||E)var b=d;var k=d.name,L={type:"ofExpression",prop:d.token,root:h,attribute:b,expression:o,args:[h],op:function(W,C){return m?l.resolveAttribute(C,k):E?d.type==="computedStyleRef"?l.resolveComputedStyle(C,k):l.resolveStyle(C,k):l.resolveProperty(C,k)},evaluate:function(W){return l.unifiedEval(this,W)}};return d.type==="attributeRef"&&(L.attribute=d),c?(c.root=L,c.args=[L]):o=L,s.parseElement("indirectExpression",t,o)}})),S.addIndirectExpression("possessive",(function(s,l,t,o){if(!s.possessivesDisabled){var h=t.matchOpToken("'");if(h||o.type==="symbol"&&(o.name==="my"||o.name==="its"||o.name==="your")&&(t.currentToken().type==="IDENTIFIER"||t.currentToken().type==="ATTRIBUTE_REF"||t.currentToken().type==="STYLE_REF")){h&&t.requireToken("s");var c,d,m;c=s.parseElement("attributeRef",t),c==null&&(d=s.parseElement("styleRef",t),d==null&&(m=t.requireTokenType("IDENTIFIER")));var E={type:"possessive",root:o,attribute:c||d,prop:m,args:[o],op:function(b,k){if(c)var L=l.resolveAttribute(k,c.name);else if(d){var L;d.type==="computedStyleRef"?L=l.resolveComputedStyle(k,d.name):L=l.resolveStyle(k,d.name)}else var L=l.resolveProperty(k,m.value);return L},evaluate:function(b){return l.unifiedEval(this,b)}};return s.parseElement("indirectExpression",t,E)}}})),S.addIndirectExpression("inExpression",(function(s,l,t,o){if(t.matchToken("in")){var h=s.requireElement("unaryExpression",t),c={type:"inExpression",root:o,args:[o,h],op:function(d,m,E){var b=[];if(m.css)l.implicitLoop(E,(function(L){for(var W=L.querySelectorAll(m.css),C=0;C<W.length;C++)b.push(W[C])}));else if(m instanceof Element){var k=!1;if(l.implicitLoop(E,(function(L){L.contains(m)&&(k=!0)})),k)return m}else l.implicitLoop(m,(function(L){l.implicitLoop(E,(function(W){L===W&&b.push(L)}))}));return b},evaluate:function(d){return l.unifiedEval(this,d)}};return s.parseElement("indirectExpression",t,c)}})),S.addIndirectExpression("asExpression",(function(s,l,t,o){if(t.matchToken("as")){t.matchToken("a")||t.matchToken("an");var h=s.requireElement("dotOrColonPath",t).evaluate(),c={type:"asExpression",root:o,args:[o],op:function(d,m){return l.convertValue(m,h)},evaluate:function(d){return l.unifiedEval(this,d)}};return s.parseElement("indirectExpression",t,c)}})),S.addIndirectExpression("functionCall",(function(s,l,t,o){if(t.matchOpToken("(")){var h=[];if(!t.matchOpToken(")")){do h.push(s.requireElement("expression",t));while(t.matchOpToken(","));t.requireOpToken(")")}if(o.root)var c={type:"functionCall",root:o,argExressions:h,args:[o.root,h],op:function(d,m,E){l.nullCheck(m,o.root);var b=m[o.prop.value];return l.nullCheck(b,o),b.hyperfunc&&E.push(d),b.apply(m,E)},evaluate:function(d){return l.unifiedEval(this,d)}};else var c={type:"functionCall",root:o,argExressions:h,args:[o,h],op:function(m,E,b){l.nullCheck(E,o),E.hyperfunc&&b.push(m);var k=E.apply(null,b);return k},evaluate:function(m){return l.unifiedEval(this,m)}};return s.parseElement("indirectExpression",t,c)}})),S.addIndirectExpression("attributeRefAccess",(function(s,l,t,o){var h=s.parseElement("attributeRef",t);if(h){var c={type:"attributeRefAccess",root:o,attribute:h,args:[o],op:function(d,m){var E=l.resolveAttribute(m,h.name);return E},evaluate:function(d){return l.unifiedEval(this,d)}};return c}})),S.addIndirectExpression("arrayIndex",(function(s,l,t,o){if(t.matchOpToken("[")){var h=!1,c=!1,d=null,m=null;if(t.matchOpToken(".."))h=!0,d=s.requireElement("expression",t);else if(d=s.requireElement("expression",t),t.matchOpToken("..")){c=!0;var E=t.currentToken();E.type!=="R_BRACKET"&&(m=s.parseElement("expression",t))}t.requireOpToken("]");var b={type:"arrayIndex",root:o,prop:d,firstIndex:d,secondIndex:m,args:[o,d,m],op:function(k,L,W,C){return L==null?null:h?(W<0&&(W=L.length+W),L.slice(0,W+1)):c?C!=null?(C<0&&(C=L.length+C),L.slice(W,C+1)):L.slice(W):L[W]},evaluate:function(k){return l.unifiedEval(this,k)}};return s.parseElement("indirectExpression",t,b)}}));var u=["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","pc","pt","px"];S.addGrammarElement("postfixExpression",(function(s,l,t){var o=s.parseElement("negativeNumber",t);let h=t.matchAnyToken.apply(t,u)||t.matchOpToken("%");if(h)return{type:"stringPostfix",postfix:h.value,args:[o],op:function(E,b){return""+b+h.value},evaluate:function(E){return l.unifiedEval(this,E)}};var c=null;if(t.matchToken("s")||t.matchToken("seconds")?c=1e3:(t.matchToken("ms")||t.matchToken("milliseconds"))&&(c=1),c)return{type:"timeExpression",time:o,factor:c,args:[o],op:function(E,b){return b*c},evaluate:function(E){return l.unifiedEval(this,E)}};if(t.matchOpToken(":")){var d=t.requireTokenType("IDENTIFIER");if(!d.value)return;var m=!t.matchOpToken("!");return{type:"typeCheck",typeName:d,nullOk:m,args:[o],op:function(E,b){var k=l.typeCheck(b,this.typeName.value,m);if(k)return b;throw new Error("Typecheck failed!  Expected: "+d.value)},evaluate:function(E){return l.unifiedEval(this,E)}}}else return o})),S.addGrammarElement("logicalNot",(function(s,l,t){if(t.matchToken("not")){var o=s.requireElement("unaryExpression",t);return{type:"logicalNot",root:o,args:[o],op:function(h,c){return!c},evaluate:function(h){return l.unifiedEval(this,h)}}}})),S.addGrammarElement("noExpression",(function(s,l,t){if(t.matchToken("no")){var o=s.requireElement("unaryExpression",t);return{type:"noExpression",root:o,args:[o],op:function(h,c){return l.isEmpty(c)},evaluate:function(h){return l.unifiedEval(this,h)}}}})),S.addLeafExpression("some",(function(s,l,t){if(t.matchToken("some")){var o=s.requireElement("expression",t);return{type:"noExpression",root:o,args:[o],op:function(h,c){return!l.isEmpty(c)},evaluate(h){return l.unifiedEval(this,h)}}}})),S.addGrammarElement("negativeNumber",(function(s,l,t){if(t.matchOpToken("-")){var o=s.requireElement("negativeNumber",t);return{type:"negativeNumber",root:o,args:[o],op:function(h,c){return-1*c},evaluate:function(h){return l.unifiedEval(this,h)}}}else return s.requireElement("primaryExpression",t)})),S.addGrammarElement("unaryExpression",(function(s,l,t){return t.matchToken("the"),s.parseAnyOf(["beepExpression","logicalNot","relativePositionalExpression","positionalExpression","noExpression","postfixExpression"],t)})),S.addGrammarElement("beepExpression",(function(s,l,t){if(t.matchToken("beep!")){var o=s.parseElement("unaryExpression",t);if(o){o.booped=!0;var h=o.evaluate;return o.evaluate=function(c){let d=h.apply(o,arguments),m=c.me;return l.beepValueToConsole(m,o,d),d},o}}}));var v=function(s,l,t,o){for(var h=l.querySelectorAll(t),c=0;c<h.length;c++){var d=h[c];if(d.compareDocumentPosition(s)===Node.DOCUMENT_POSITION_PRECEDING)return d}if(o)return h[0]},g=function(s,l,t,o){for(var h=l.querySelectorAll(t),c=h.length-1;c>=0;c--){var d=h[c];if(d.compareDocumentPosition(s)===Node.DOCUMENT_POSITION_FOLLOWING)return d}if(o)return h[h.length-1]},A=function(s,l,t,o){var h=[];w.prototype.forEach(l,(function(E){(E.matches(t)||E===s)&&h.push(E)}));for(var c=0;c<h.length-1;c++){var d=h[c];if(d===s)return h[c+1]}if(o){var m=h[0];if(m&&m.matches(t))return m}},y=function(s,l,t,o){return A(s,Array.from(l).reverse(),t,o)};S.addGrammarElement("relativePositionalExpression",(function(s,l,t){var o=t.matchAnyToken("next","previous");if(o){var h=o.value==="next",c=s.parseElement("expression",t);if(t.matchToken("from")){t.pushFollow("in");try{var d=s.requireElement("unaryExpression",t)}finally{t.popFollow()}}else var d=s.requireElement("implicitMeTarget",t);var m=!1,E;if(t.matchToken("in")){m=!0;var b=s.requireElement("unaryExpression",t)}else t.matchToken("within")?E=s.requireElement("unaryExpression",t):E=document.body;var k=!1;return t.matchToken("with")&&(t.requireToken("wrapping"),k=!0),{type:"relativePositionalExpression",from:d,forwardSearch:h,inSearch:m,wrapping:k,inElt:b,withinElt:E,operator:o.value,args:[c,d,b,E],op:function(L,W,C,R,G){var U=W.css;if(U==null)throw"Expected a CSS value to be returned by "+f.sourceFor.apply(c);if(m){if(R)return h?A(C,R,U,k):y(C,R,U,k)}else if(G)return h?v(C,G,U,k):g(C,G,U,k)},evaluate:function(L){return l.unifiedEval(this,L)}}}})),S.addGrammarElement("positionalExpression",(function(s,l,t){var o=t.matchAnyToken("first","last","random");if(!o)return;t.matchAnyToken("in","from","of");var h=s.requireElement("unaryExpression",t);let c=o.value;return{type:"positionalExpression",rhs:h,operator:o.value,args:[h],op:function(d,m){if(m&&!Array.isArray(m)&&(m.children?m=m.children:m=Array.from(m)),m){if(c==="first")return m[0];if(c==="last")return m[m.length-1];if(c==="random")return m[Math.floor(Math.random()*m.length)]}},evaluate:function(d){return l.unifiedEval(this,d)}}})),S.addGrammarElement("mathOperator",(function(s,l,t){var o=s.parseElement("unaryExpression",t),h,c=null;for(h=t.matchAnyOpToken("+","-","*","/")||t.matchToken("mod");h;){c=c||h;var d=h.value;c.value!==d&&s.raiseParseError(t,"You must parenthesize math operations with different operators");var m=s.parseElement("unaryExpression",t);o={type:"mathOperator",lhs:o,rhs:m,operator:d,args:[o,m],op:function(E,b,k){if(d==="+")return b+k;if(d==="-")return b-k;if(d==="*")return b*k;if(d==="/")return b/k;if(d==="mod")return b%k},evaluate:function(E){return l.unifiedEval(this,E)}},h=t.matchAnyOpToken("+","-","*","/")||t.matchToken("mod")}return o})),S.addGrammarElement("mathExpression",(function(s,l,t){return s.parseAnyOf(["mathOperator","unaryExpression"],t)}));function T(s,l,t){if(l.contains)return l.contains(t);if(l.includes)return l.includes(t);throw Error("The value of "+s.sourceFor()+" does not have a contains or includes method on it")}function p(s,l,t){if(l.match)return!!l.match(t);if(l.matches)return l.matches(t);throw Error("The value of "+s.sourceFor()+" does not have a match or matches method on it")}S.addGrammarElement("comparisonOperator",(function(s,l,t){var o=s.parseElement("mathExpression",t),h=t.matchAnyOpToken("<",">","<=",">=","==","===","!=","!=="),c=h?h.value:null,d=!0,m=!1;if(c==null&&(t.matchToken("is")||t.matchToken("am")?t.matchToken("not")?t.matchToken("in")?c="not in":t.matchToken("a")||t.matchToken("an")?(c="not a",m=!0):t.matchToken("empty")?(c="not empty",d=!1):(t.matchToken("really")?c="!==":c="!=",t.matchToken("equal")&&t.matchToken("to")):t.matchToken("in")?c="in":t.matchToken("a")||t.matchToken("an")?(c="a",m=!0):t.matchToken("empty")?(c="empty",d=!1):t.matchToken("less")?(t.requireToken("than"),t.matchToken("or")?(t.requireToken("equal"),t.requireToken("to"),c="<="):c="<"):t.matchToken("greater")?(t.requireToken("than"),t.matchToken("or")?(t.requireToken("equal"),t.requireToken("to"),c=">="):c=">"):(t.matchToken("really")?c="===":c="==",t.matchToken("equal")&&t.matchToken("to")):t.matchToken("equals")?c="==":t.matchToken("really")?(t.requireToken("equals"),c="==="):t.matchToken("exist")||t.matchToken("exists")?(c="exist",d=!1):t.matchToken("matches")||t.matchToken("match")?c="match":t.matchToken("contains")||t.matchToken("contain")?c="contain":t.matchToken("includes")||t.matchToken("include")?c="include":(t.matchToken("do")||t.matchToken("does"))&&(t.requireToken("not"),t.matchToken("matches")||t.matchToken("match")?c="not match":t.matchToken("contains")||t.matchToken("contain")?c="not contain":t.matchToken("exist")||t.matchToken("exist")?(c="not exist",d=!1):t.matchToken("include")?c="not include":s.raiseParseError(t,"Expected matches or contains"))),c){var E,b,k;m?(E=t.requireTokenType("IDENTIFIER"),b=!t.matchOpToken("!")):d&&(k=s.requireElement("mathExpression",t),(c==="match"||c==="not match")&&(k=k.css?k.css:k));var L=o;o={type:"comparisonOperator",operator:c,typeName:E,nullOk:b,lhs:o,rhs:k,args:[o,k],op:function(W,C,R){if(c==="==")return C==R;if(c==="!=")return C!=R;if(c==="===")return C===R;if(c==="!==")return C!==R;if(c==="match")return C!=null&&p(L,C,R);if(c==="not match")return C==null||!p(L,C,R);if(c==="in")return R!=null&&T(k,R,C);if(c==="not in")return R==null||!T(k,R,C);if(c==="contain")return C!=null&&T(L,C,R);if(c==="not contain")return C==null||!T(L,C,R);if(c==="include")return C!=null&&T(L,C,R);if(c==="not include")return C==null||!T(L,C,R);if(c==="===")return C===R;if(c==="!==")return C!==R;if(c==="<")return C<R;if(c===">")return C>R;if(c==="<=")return C<=R;if(c===">=")return C>=R;if(c==="empty")return l.isEmpty(C);if(c==="not empty")return!l.isEmpty(C);if(c==="exist")return l.doesExist(C);if(c==="not exist")return!l.doesExist(C);if(c==="a")return l.typeCheck(C,E.value,b);if(c==="not a")return!l.typeCheck(C,E.value,b);throw"Unknown comparison : "+c},evaluate:function(W){return l.unifiedEval(this,W)}}}return o})),S.addGrammarElement("comparisonExpression",(function(s,l,t){return s.parseAnyOf(["comparisonOperator","mathExpression"],t)})),S.addGrammarElement("logicalOperator",(function(s,l,t){var o=s.parseElement("comparisonExpression",t),h,c=null;for(h=t.matchToken("and")||t.matchToken("or");h;){c=c||h,c.value!==h.value&&s.raiseParseError(t,"You must parenthesize logical operations with different operators");var d=s.requireElement("comparisonExpression",t);let m=h.value;o={type:"logicalOperator",operator:m,lhs:o,rhs:d,args:[o,d],op:function(E,b,k){return m==="and"?b&&k:b||k},evaluate:function(E){return l.unifiedEval(this,E,m==="or")}},h=t.matchToken("and")||t.matchToken("or")}return o})),S.addGrammarElement("logicalExpression",(function(s,l,t){return s.parseAnyOf(["logicalOperator","mathExpression"],t)})),S.addGrammarElement("asyncExpression",(function(s,l,t){if(t.matchToken("async")){var o=s.requireElement("logicalExpression",t),h={type:"asyncExpression",value:o,evaluate:function(c){return{asyncWrapper:!0,value:this.value.evaluate(c)}}};return h}else return s.parseElement("logicalExpression",t)})),S.addGrammarElement("expression",(function(s,l,t){return t.matchToken("the"),s.parseElement("asyncExpression",t)})),S.addGrammarElement("assignableExpression",(function(s,l,t){t.matchToken("the");var o=s.parseElement("primaryExpression",t);return o&&(o.type==="symbol"||o.type==="ofExpression"||o.type==="propertyAccess"||o.type==="attributeRefAccess"||o.type==="attributeRef"||o.type==="styleRef"||o.type==="arrayIndex"||o.type==="possessive")||s.raiseParseError(t,"A target expression must be writable.  The expression type '"+(o&&o.type)+"' is not."),o})),S.addGrammarElement("hyperscript",(function(s,l,t){var o=[];if(t.hasMore())for(;s.featureStart(t.currentToken())||t.currentToken().value==="(";){var h=s.requireElement("feature",t);o.push(h),t.matchToken("end")}return{type:"hyperscript",features:o,apply:function(c,d,m){for(let E of o)E.install(c,d,m)}}}));var q=function(s){var l=[];if(s.token(0).value==="("&&(s.token(1).value===")"||s.token(2).value===","||s.token(2).value===")")){s.matchOpToken("(");do l.push(s.requireTokenType("IDENTIFIER"));while(s.matchOpToken(","));s.requireOpToken(")")}return l};S.addFeature("on",(function(s,l,t){if(t.matchToken("on")){var o=!1;t.matchToken("every")&&(o=!0);var h=[],c=null;do{var d=s.requireElement("eventName",t,"Expected event name"),m=d.evaluate();c?c=c+" or "+m:c="on "+m;var E=q(t),b=null;t.matchOpToken("[")&&(b=s.requireElement("expression",t),t.requireOpToken("]"));var k,L,W;if(t.currentToken().type==="NUMBER"){var C=t.consumeToken();if(!C.value)return;if(k=parseInt(C.value),t.matchToken("to")){var R=t.consumeToken();if(!R.value)return;L=parseInt(R.value)}else t.matchToken("and")&&(W=!0,t.requireToken("on"))}var G,U;if(m==="intersection"){if(G={},t.matchToken("with")&&(G.with=s.requireElement("expression",t).evaluate()),t.matchToken("having"))do t.matchToken("margin")?G.rootMargin=s.requireElement("stringLike",t).evaluate():t.matchToken("threshold")?G.threshold=s.requireElement("expression",t).evaluate():s.raiseParseError(t,"Unknown intersection config specification");while(t.matchToken("and"))}else if(m==="mutation")if(U={},t.matchToken("of"))do if(t.matchToken("anything"))U.attributes=!0,U.subtree=!0,U.characterData=!0,U.childList=!0;else if(t.matchToken("childList"))U.childList=!0;else if(t.matchToken("attributes"))U.attributes=!0,U.attributeOldValue=!0;else if(t.matchToken("subtree"))U.subtree=!0;else if(t.matchToken("characterData"))U.characterData=!0,U.characterDataOldValue=!0;else if(t.currentToken().type==="ATTRIBUTE_REF"){var K=t.consumeToken();U.attributeFilter==null&&(U.attributeFilter=[]),K.value.indexOf("@")==0?U.attributeFilter.push(K.value.substring(1)):s.raiseParseError(t,"Only shorthand attribute references are allowed here")}else s.raiseParseError(t,"Unknown mutation config specification");while(t.matchToken("or"));else U.attributes=!0,U.characterData=!0,U.childList=!0;var Z=null,me=!1;if(t.matchToken("from"))if(t.matchToken("elsewhere"))me=!0;else{t.pushFollow("or");try{Z=s.requireElement("expression",t)}finally{t.popFollow()}Z||s.raiseParseError(t,'Expected either target value or "elsewhere".')}if(Z===null&&me===!1&&t.matchToken("elsewhere")&&(me=!0),t.matchToken("in"))var pe=s.parseElement("unaryExpression",t);if(t.matchToken("debounced")){t.requireToken("at");var ne=s.requireElement("unaryExpression",t),ue=ne.evaluate({})}else if(t.matchToken("throttled")){t.requireToken("at");var ne=s.requireElement("unaryExpression",t),ve=ne.evaluate({})}h.push({execCount:0,every:o,on:m,args:E,filter:b,from:Z,inExpr:pe,elsewhere:me,startCount:k,endCount:L,unbounded:W,debounceTime:ue,throttleTime:ve,mutationSpec:U,intersectionSpec:G,debounced:void 0,lastExec:void 0})}while(t.matchToken("or"));var ce=!0;if(!o&&t.matchToken("queue"))if(t.matchToken("all"))var he=!0,ce=!1;else if(t.matchToken("first"))var ke=!0;else if(t.matchToken("none"))var Ce=!0;else t.requireToken("last");var Ne=s.requireElement("commandList",t);s.ensureTerminated(Ne);var De,Oe;if(t.matchToken("catch")&&(De=t.requireTokenType("IDENTIFIER").value,Oe=s.requireElement("commandList",t),s.ensureTerminated(Oe)),t.matchToken("finally")){var Pe=s.requireElement("commandList",t);s.ensureTerminated(Pe)}var ge={displayName:c,events:h,start:Ne,every:o,execCount:0,errorHandler:Oe,errorSymbol:De,execute:function(se){let xe=l.getEventQueueFor(se.me,ge);if(xe.executing&&o===!1){if(Ce||ke&&xe.queue.length>0)return;ce&&(xe.queue.length=0),xe.queue.push(se);return}ge.execCount++,xe.executing=!0,se.meta.onHalt=function(){xe.executing=!1;var de=xe.queue.shift();de&&setTimeout((function(){ge.execute(de)}),1)},se.meta.reject=function(de){console.error(de.message?de.message:de);var Q=l.getHyperTrace(se,de);Q&&Q.print(),l.triggerEvent(se.me,"exception",{error:de})},Ne.execute(se)},install:function(se,xe){for(let Q of ge.events){var de;Q.elsewhere?de=[document]:Q.from?de=Q.from.evaluate(l.makeContext(se,ge,se,null)):de=[se],l.implicitLoop(de,(function(Ee){var we=Q.on;if(Ee==null){console.warn("'%s' feature ignored because target does not exists:",c,se);return}if(Q.mutationSpec&&(we="hyperscript:mutation",new MutationObserver((function(be,re){ge.executing||l.triggerEvent(Ee,we,{mutationList:be,observer:re})})).observe(Ee,Q.mutationSpec)),Q.intersectionSpec){we="hyperscript:intersection";let Re=new IntersectionObserver((function(be){for(let Le of be){var re={observer:Re};re=Object.assign(re,Le),re.intersecting=Le.isIntersecting,l.triggerEvent(Ee,we,re)}}),Q.intersectionSpec);Re.observe(Ee)}var Ze=Ee.addEventListener||Ee.on;Ze.call(Ee,we,(function Re(be){if(typeof Node<"u"&&se instanceof Node&&Ee!==se&&!se.isConnected){Ee.removeEventListener(we,Re);return}var re=l.makeContext(se,ge,se,be);if(!(Q.elsewhere&&se.contains(be.target))){Q.from&&(re.result=Ee);for(let He of Q.args){let Me=re.event[He.value];Me!==void 0?re.locals[He.value]=Me:"detail"in re.event&&(re.locals[He.value]=re.event.detail[He.value])}if(re.meta.errorHandler=Oe,re.meta.errorSymbol=De,re.meta.finallyHandler=Pe,Q.filter){var Le=re.meta.context;re.meta.context=re.event;try{var et=Q.filter.evaluate(re);if(!et)return}finally{re.meta.context=Le}}if(Q.inExpr){for(var Se=be.target;;)if(Se.matches&&Se.matches(Q.inExpr.css)){re.result=Se;break}else if(Se=Se.parentElement,Se==null)return}if(Q.execCount++,Q.startCount){if(Q.endCount){if(Q.execCount<Q.startCount||Q.execCount>Q.endCount)return}else if(Q.unbounded){if(Q.execCount<Q.startCount)return}else if(Q.execCount!==Q.startCount)return}if(Q.debounceTime){Q.debounced&&clearTimeout(Q.debounced),Q.debounced=setTimeout((function(){ge.execute(re)}),Q.debounceTime);return}if(Q.throttleTime){if(Q.lastExec&&Date.now()<Q.lastExec+Q.throttleTime)return;Q.lastExec=Date.now()}ge.execute(re)}}))}))}}};return s.setParent(Ne,ge),ge}})),S.addFeature("def",(function(s,l,t){if(t.matchToken("def")){var o=s.requireElement("dotOrColonPath",t),h=o.evaluate(),c=h.split("."),d=c.pop(),m=[];if(t.matchOpToken("(")&&!t.matchOpToken(")")){do m.push(t.requireTokenType("IDENTIFIER"));while(t.matchOpToken(","));t.requireOpToken(")")}var E=s.requireElement("commandList",t),b,k;if(t.matchToken("catch")&&(b=t.requireTokenType("IDENTIFIER").value,k=s.parseElement("commandList",t)),t.matchToken("finally")){var L=s.requireElement("commandList",t);s.ensureTerminated(L)}var W={displayName:d+"("+m.map((function(C){return C.value})).join(", ")+")",name:d,args:m,start:E,errorHandler:k,errorSymbol:b,finallyHandler:L,install:function(C,R){var G=function(){var U=l.makeContext(R,W,C,null);U.meta.errorHandler=k,U.meta.errorSymbol=b,U.meta.finallyHandler=L;for(var K=0;K<m.length;K++){var Z=m[K],me=arguments[K];Z&&(U.locals[Z.value]=me)}U.meta.caller=arguments[m.length],U.meta.caller&&(U.meta.callingCommand=U.meta.caller.meta.command);var pe,ne=null,ue=new Promise((function(ve,ce){pe=ve,ne=ce}));return E.execute(U),U.meta.returned?U.meta.returnValue:(U.meta.resolve=pe,U.meta.reject=ne,ue)};G.hyperfunc=!0,G.hypername=h,l.assignToNamespace(C,c,d,G)}};return s.ensureTerminated(E),k&&s.ensureTerminated(k),s.setParent(E,W),W}})),S.addFeature("set",(function(s,l,t){let o=s.parseElement("setCommand",t);if(o){o.target.scope!=="element"&&s.raiseParseError(t,"variables declared at the feature level must be element scoped.");let h={start:o,install:function(c,d){o&&o.execute(l.makeContext(c,h,c,null))}};return s.ensureTerminated(o),h}})),S.addFeature("init",(function(s,l,t){if(t.matchToken("init")){var o=t.matchToken("immediately"),h=s.requireElement("commandList",t),c={start:h,install:function(d,m){let E=function(){h&&h.execute(l.makeContext(d,c,d,null))};o?E():setTimeout(E,0)}};return s.ensureTerminated(h),s.setParent(h,c),c}})),S.addFeature("worker",(function(s,l,t){if(t.matchToken("worker")){s.raiseParseError(t,"In order to use the 'worker' feature, include the _hyperscript worker plugin. See https://hyperscript.org/features/worker/ for more info.");return}})),S.addFeature("behavior",(function(s,l,t){if(t.matchToken("behavior")){var o=s.requireElement("dotOrColonPath",t).evaluate(),h=o.split("."),c=h.pop(),d=[];if(t.matchOpToken("(")&&!t.matchOpToken(")")){do d.push(t.requireTokenType("IDENTIFIER").value);while(t.matchOpToken(","));t.requireOpToken(")")}for(var m=s.requireElement("hyperscript",t),E=0;E<m.features.length;E++){var b=m.features[E];b.behavior=o}return{install:function(k,L){l.assignToNamespace(e.document&&e.document.body,h,c,(function(W,C,R){for(var G=l.getInternalData(W),U=Y(G,o+"Scope"),K=0;K<d.length;K++)U[d[K]]=R[d[K]];m.apply(W,C)}))}}}})),S.addFeature("install",(function(s,l,t){if(t.matchToken("install")){var o=s.requireElement("dotOrColonPath",t).evaluate(),h=o.split("."),c=s.parseElement("namedArgumentList",t),d;return d={install:function(m,E){l.unifiedEval({args:[c],op:function(b,k){for(var L=e,W=0;W<h.length;W++)if(L=L[h[W]],typeof L!="object"&&typeof L!="function")throw new Error("No such behavior defined as "+o);if(!(L instanceof Function))throw new Error(o+" is not a behavior");L(m,E,k)}},l.makeContext(m,d,m,null))}}}})),S.addGrammarElement("jsBody",(function(s,l,t){for(var o=t.currentToken().start,h=t.currentToken(),c=[],d="",m=!1;t.hasMore();){h=t.consumeToken();var E=t.token(0,!0);if(E.type==="IDENTIFIER"&&E.value==="end")break;m?h.type==="IDENTIFIER"||h.type==="NUMBER"?d+=h.value:(d!==""&&c.push(d),d="",m=!1):h.type==="IDENTIFIER"&&h.value==="function"&&(m=!0)}var b=h.end+1;return{type:"jsBody",exposedFunctionNames:c,jsSource:t.source.substring(o,b)}})),S.addFeature("js",(function(s,l,t){if(t.matchToken("js")){var o=s.requireElement("jsBody",t),h=o.jsSource+`
return { `+o.exposedFunctionNames.map((function(d){return d+":"+d})).join(",")+" } ",c=new Function(h);return{jsSource:h,function:c,exposedFunctionNames:o.exposedFunctionNames,install:function(){Object.assign(e,c())}}}})),S.addCommand("js",(function(s,l,t){if(t.matchToken("js")){var o=[];if(t.matchOpToken("(")&&!t.matchOpToken(")")){do{var h=t.requireTokenType("IDENTIFIER");o.push(h.value)}while(t.matchOpToken(","));t.requireOpToken(")")}var c=s.requireElement("jsBody",t);t.matchToken("end");var d=oe(Function,o.concat([c.jsSource])),m={jsSource:c.jsSource,function:d,inputs:o,op:function(E){var b=[];o.forEach((function(L){b.push(l.resolveSymbol(L,E,"default"))}));var k=d.apply(e,b);return k&&typeof k.then=="function"?new Promise((function(L){k.then((function(W){E.result=W,L(l.findNext(this,E))}))})):(E.result=k,l.findNext(this,E))}};return m}})),S.addCommand("async",(function(s,l,t){if(t.matchToken("async")){if(t.matchToken("do")){for(var o=s.requireElement("commandList",t),h=o;h.next;)h=h.next;h.next=l.HALT,t.requireToken("end")}else var o=s.requireElement("command",t);var c={body:o,op:function(d){return setTimeout((function(){o.execute(d)})),l.findNext(this,d)}};return s.setParent(o,c),c}})),S.addCommand("tell",(function(s,l,t){var o=t.currentToken();if(t.matchToken("tell")){var h=s.requireElement("expression",t),c=s.requireElement("commandList",t);t.hasMore()&&!s.featureStart(t.currentToken())&&t.requireToken("end");var d="tell_"+o.start,m={value:h,body:c,args:[h],resolveNext:function(E){var b=E.meta.iterators[d];return b.index<b.value.length?(E.you=b.value[b.index++],c):(E.you=b.originalYou,this.next?this.next:l.findNext(this.parent,E))},op:function(E,b){return b==null?b=[]:Array.isArray(b)||b instanceof NodeList||(b=[b]),E.meta.iterators[d]={originalYou:E.you,index:0,value:b},this.resolveNext(E)}};return s.setParent(c,m),m}})),S.addCommand("wait",(function(s,l,t){if(t.matchToken("wait")){var o;if(t.matchToken("for")){t.matchToken("a");var h=[];do{var c=t.token(0);c.type==="NUMBER"||c.type==="L_PAREN"?h.push({time:s.requireElement("expression",t).evaluate()}):h.push({name:s.requireElement("dotOrColonPath",t,"Expected event name").evaluate(),args:q(t)})}while(t.matchToken("or"));if(t.matchToken("from"))var d=s.requireElement("expression",t);return o={event:h,on:d,args:[d],op:function(E,b){var k=b||E.me;if(!(k instanceof EventTarget))throw new Error("Not a valid event target: "+this.on.sourceFor());return new Promise((L=>{var W=!1;for(let R of h){var C=G=>{if(E.result=G,R.args)for(let U of R.args)E.locals[U.value]=G[U.value]||(G.detail?G.detail[U.value]:null);W||(W=!0,L(l.findNext(this,E)))};R.name?k.addEventListener(R.name,C,{once:!0}):R.time!=null&&setTimeout(C,R.time,R.time)}}))}},o}else{var m;return t.matchToken("a")?(t.requireToken("tick"),m=0):m=s.requireElement("expression",t),o={type:"waitCmd",time:m,args:[m],op:function(E,b){return new Promise((k=>{setTimeout((()=>{k(l.findNext(this,E))}),b)}))},execute:function(E){return l.unifiedExec(this,E)}},o}}})),S.addGrammarElement("dotOrColonPath",(function(s,l,t){var o=t.matchTokenType("IDENTIFIER");if(o){var h=[o.value],c=t.matchOpToken(".")||t.matchOpToken(":");if(c)do h.push(t.requireTokenType("IDENTIFIER","NUMBER").value);while(t.matchOpToken(c.value));return{type:"dotOrColonPath",path:h,evaluate:function(){return h.join(c?c.value:"")}}}})),S.addGrammarElement("eventName",(function(s,l,t){var o;return(o=t.matchTokenType("STRING"))?{evaluate:function(){return o.value}}:s.parseElement("dotOrColonPath",t)}));function N(s,l,t,o){var h=l.requireElement("eventName",o),c=l.parseElement("namedArgumentList",o);if(s==="send"&&o.matchToken("to")||s==="trigger"&&o.matchToken("on"))var d=l.requireElement("expression",o);else var d=l.requireElement("implicitMeTarget",o);var m={eventName:h,details:c,to:d,args:[d,h,c],op:function(E,b,k,L){return t.nullCheck(b,d),t.implicitLoop(b,(function(W){t.triggerEvent(W,k,L,E.me)})),t.findNext(m,E)}};return m}S.addCommand("trigger",(function(s,l,t){if(t.matchToken("trigger"))return N("trigger",s,l,t)})),S.addCommand("send",(function(s,l,t){if(t.matchToken("send"))return N("send",s,l,t)}));var O=function(s,l,t,o){if(o)if(s.commandBoundary(t.currentToken()))s.raiseParseError(t,"'return' commands must return a value.  If you do not wish to return a value, use 'exit' instead.");else var h=s.requireElement("expression",t);var c={value:h,args:[h],op:function(d,m){var E=d.meta.resolve;return d.meta.returned=!0,d.meta.returnValue=m,E&&(m?E(m):E()),l.HALT}};return c};S.addCommand("return",(function(s,l,t){if(t.matchToken("return"))return O(s,l,t,!0)})),S.addCommand("exit",(function(s,l,t){if(t.matchToken("exit"))return O(s,l,t,!1)})),S.addCommand("halt",(function(s,l,t){if(t.matchToken("halt")){if(t.matchToken("the")){t.requireToken("event"),t.matchOpToken("'")&&t.requireToken("s");var o=!0}if(t.matchToken("bubbling"))var h=!0;else if(t.matchToken("default"))var c=!0;var d=O(s,l,t,!1),m={keepExecuting:!0,bubbling:h,haltDefault:c,exit:d,op:function(E){if(E.event)return h?E.event.stopPropagation():(c||E.event.stopPropagation(),E.event.preventDefault()),o?l.findNext(this,E):d}};return m}})),S.addCommand("log",(function(s,l,t){if(t.matchToken("log")){for(var o=[s.parseElement("expression",t)];t.matchOpToken(",");)o.push(s.requireElement("expression",t));if(t.matchToken("with"))var h=s.requireElement("expression",t);var c={exprs:o,withExpr:h,args:[h,o],op:function(d,m,E){return m?m.apply(null,E):console.log.apply(null,E),l.findNext(this,d)}};return c}})),S.addCommand("beep!",(function(s,l,t){if(t.matchToken("beep!")){for(var o=[s.parseElement("expression",t)];t.matchOpToken(",");)o.push(s.requireElement("expression",t));var h={exprs:o,args:[o],op:function(c,d){for(let m=0;m<o.length;m++){let E=o[m],b=d[m];l.beepValueToConsole(c.me,E,b)}return l.findNext(this,c)}};return h}})),S.addCommand("throw",(function(s,l,t){if(t.matchToken("throw")){var o=s.requireElement("expression",t),h={expr:o,args:[o],op:function(c,d){throw l.registerHyperTrace(c,d),d}};return h}}));var I=function(s,l,t){var o=s.requireElement("expression",t),h={expr:o,args:[o],op:function(c,d){return c.result=d,l.findNext(h,c)}};return h};S.addCommand("call",(function(s,l,t){if(t.matchToken("call")){var o=I(s,l,t);return o.expr&&o.expr.type!=="functionCall"&&s.raiseParseError(t,"Must be a function invocation"),o}})),S.addCommand("get",(function(s,l,t){if(t.matchToken("get"))return I(s,l,t)})),S.addCommand("make",(function(s,l,t){if(t.matchToken("make")){t.matchToken("a")||t.matchToken("an");var o=s.requireElement("expression",t),h=[];if(o.type!=="queryRef"&&t.matchToken("from"))do h.push(s.requireElement("expression",t));while(t.matchOpToken(","));if(t.matchToken("called"))var c=s.requireElement("symbol",t);var d;return o.type==="queryRef"?(d={op:function(m){for(var E,b="div",k,L=[],W=/(?:(^|#|\.)([^#\. ]+))/g;E=W.exec(o.css);)E[1]===""?b=E[2].trim():E[1]==="#"?k=E[2].trim():L.push(E[2].trim());var C=document.createElement(b);k!==void 0&&(C.id=k);for(var R=0;R<L.length;R++){var G=L[R];C.classList.add(G)}return m.result=C,c&&l.setSymbol(c.name,m,c.scope,C),l.findNext(this,m)}},d):(d={args:[o,h],op:function(m,E,b){return m.result=oe(E,b),c&&l.setSymbol(c.name,m,c.scope,m.result),l.findNext(this,m)}},d)}})),S.addGrammarElement("pseudoCommand",(function(s,l,t){let o=t.token(1);if(!(o&&o.op&&(o.value==="."||o.value==="(")))return null;for(var h=s.requireElement("primaryExpression",t),c=h.root,d=h;c.root!=null;)d=d.root,c=c.root;if(h.type!=="functionCall"&&s.raiseParseError(t,"Pseudo-commands must be function calls"),d.type==="functionCall"&&d.root.root==null){if(t.matchAnyToken("the","to","on","with","into","from","at"))var m=s.requireElement("expression",t);else if(t.matchToken("me"))var m=s.requireElement("implicitMeTarget",t)}var E;return m?E={type:"pseudoCommand",root:m,argExressions:d.argExressions,args:[m,d.argExressions],op:function(b,k,L){l.nullCheck(k,m);var W=k[d.root.name];return l.nullCheck(W,d),W.hyperfunc&&L.push(b),b.result=W.apply(k,L),l.findNext(E,b)},execute:function(b){return l.unifiedExec(this,b)}}:E={type:"pseudoCommand",expr:h,args:[h],op:function(b,k){return b.result=k,l.findNext(E,b)},execute:function(b){return l.unifiedExec(this,b)}},E}));var D=function(s,l,t,o,h){var c=o.type==="symbol",d=o.type==="attributeRef",m=o.type==="styleRef",E=o.type==="arrayIndex";!(d||m||c)&&o.root==null&&s.raiseParseError(t,"Can only put directly into symbols, not references");var b=null,k=null;if(!c)if(d||m){b=s.requireElement("implicitMeTarget",t);var L=o}else if(E)k=o.firstIndex,b=o.root;else{k=o.prop?o.prop.value:null;var L=o.attribute;b=o.root}var W={target:o,symbolWrite:c,value:h,args:[b,k,h],op:function(C,R,G,U){return c?l.setSymbol(o.name,C,o.scope,U):(l.nullCheck(R,b),E?R[G]=U:l.implicitLoop(R,(function(K){L?L.type==="attributeRef"?U==null?K.removeAttribute(L.name):K.setAttribute(L.name,U):K.style[L.name]=U:K[G]=U}))),l.findNext(this,C)}};return W};S.addCommand("default",(function(s,l,t){if(t.matchToken("default")){var o=s.requireElement("assignableExpression",t);t.requireToken("to");var h=s.requireElement("expression",t),c=D(s,l,t,o,h),d={target:o,value:h,setter:c,args:[o],op:function(m,E){return E?l.findNext(this,m):c}};return c.parent=d,d}})),S.addCommand("set",(function(s,l,t){if(t.matchToken("set")){if(t.currentToken().type==="L_BRACE"){var o=s.requireElement("objectLiteral",t);t.requireToken("on");var h=s.requireElement("expression",t),c={objectLiteral:o,target:h,args:[o,h],op:function(m,E,b){return Object.assign(b,E),l.findNext(this,m)}};return c}try{t.pushFollow("to");var h=s.requireElement("assignableExpression",t)}finally{t.popFollow()}t.requireToken("to");var d=s.requireElement("expression",t);return D(s,l,t,h,d)}})),S.addCommand("if",(function(s,l,t){if(!t.matchToken("if"))return;var o=s.requireElement("expression",t);t.matchToken("then");var h=s.parseElement("commandList",t),c=!1;let d=t.matchToken("else")||t.matchToken("otherwise");if(d){let b=t.peekToken("if");if(c=b!=null&&b.line===d.line,c)var m=s.parseElement("command",t);else var m=s.parseElement("commandList",t)}t.hasMore()&&!c&&t.requireToken("end");var E={expr:o,trueBranch:h,falseBranch:m,args:[o],op:function(b,k){return k?h:m||l.findNext(this,b)}};return s.setParent(h,E),s.setParent(m,E),E}));var P=function(s,l,t,o){var h=l.currentToken(),c;if(l.matchToken("for")||o){var d=l.requireTokenType("IDENTIFIER");c=d.value,l.requireToken("in");var m=s.requireElement("expression",l)}else if(l.matchToken("in")){c="it";var m=s.requireElement("expression",l)}else if(l.matchToken("while"))var E=s.requireElement("expression",l);else if(l.matchToken("until")){var b=!0;if(l.matchToken("event")){var k=s.requireElement("dotOrColonPath",l,"Expected event name");if(l.matchToken("from"))var L=s.requireElement("expression",l)}else var E=s.requireElement("expression",l)}else if(!s.commandBoundary(l.currentToken())&&l.currentToken().value!=="forever"){var W=s.requireElement("expression",l);l.requireToken("times")}else{l.matchToken("forever");var C=!0}if(l.matchToken("index"))var d=l.requireTokenType("IDENTIFIER"),R=d.value;else if(l.matchToken("indexed")){l.requireToken("by");var d=l.requireTokenType("IDENTIFIER"),R=d.value}var G=s.parseElement("commandList",l);if(G&&k){for(var U=G;U.next;)U=U.next;var K={type:"waitATick",op:function(){return new Promise((function(ne){setTimeout((function(){ne(t.findNext(K))}),0)}))}};U.next=K}if(l.hasMore()&&l.requireToken("end"),c==null){c="_implicit_repeat_"+h.start;var Z=c}else var Z=c+"_"+h.start;var me={identifier:c,indexIdentifier:R,slot:Z,expression:m,forever:C,times:W,until:b,event:k,on:L,whileExpr:E,resolveNext:function(){return this},loop:G,args:[E,W],op:function(ne,ue,ve){var ce=ne.meta.iterators[Z],he=!1,ke=null;if(this.forever)he=!0;else if(this.until)k?he=ne.meta.iterators[Z].eventFired===!1:he=ue!==!0;else if(E)he=ue;else if(ve)he=ce.index<ve;else{var Ce=ce.iterator.next();he=!Ce.done,ke=Ce.value}return he?(ce.value?ne.result=ne.locals[c]=ke:ne.result=ce.index,R&&(ne.locals[R]=ce.index),ce.index++,G):(ne.meta.iterators[Z]=null,t.findNext(this.parent,ne))}};s.setParent(G,me);var pe={name:"repeatInit",args:[m,k,L],op:function(ne,ue,ve,ce){var he={index:0,value:ue,eventFired:!1};if(ne.meta.iterators[Z]=he,ue&&ue[Symbol.iterator]&&(he.iterator=ue[Symbol.iterator]()),k){var ke=ce||ne.me;ke.addEventListener(ve,(function(Ce){ne.meta.iterators[Z].eventFired=!0}),{once:!0})}return me},execute:function(ne){return t.unifiedExec(this,ne)}};return s.setParent(me,pe),pe};S.addCommand("repeat",(function(s,l,t){if(t.matchToken("repeat"))return P(s,t,l,!1)})),S.addCommand("for",(function(s,l,t){if(t.matchToken("for"))return P(s,t,l,!0)})),S.addCommand("continue",(function(s,l,t){if(t.matchToken("continue")){var o={op:function(h){for(var c=this.parent;;c=c.parent)if(c==null&&s.raiseParseError(t,"Command `continue` cannot be used outside of a `repeat` loop."),c.loop!=null)return c.resolveNext(h)}};return o}})),S.addCommand("break",(function(s,l,t){if(t.matchToken("break")){var o={op:function(h){for(var c=this.parent;;c=c.parent)if(c==null&&s.raiseParseError(t,"Command `continue` cannot be used outside of a `repeat` loop."),c.loop!=null)return l.findNext(c.parent,h)}};return o}})),S.addGrammarElement("stringLike",(function(s,l,t){return s.parseAnyOf(["string","nakedString"],t)})),S.addCommand("append",(function(s,l,t){if(t.matchToken("append")){var o=null,h=s.requireElement("expression",t),c={type:"symbol",evaluate:function(E){return l.resolveSymbol("result",E)}};t.matchToken("to")?o=s.requireElement("expression",t):o=c;var d=null;(o.type==="symbol"||o.type==="attributeRef"||o.root!=null)&&(d=D(s,l,t,o,c));var m={value:h,target:o,args:[o,h],op:function(E,b,k){if(Array.isArray(b))return b.push(k),l.findNext(this,E);if(b instanceof Element)return k instanceof Element?b.insertAdjacentElement("beforeend",k):b.insertAdjacentHTML("beforeend",k),l.processNode(b),l.findNext(this,E);if(d)return E.result=(b||"")+k,d;throw Error("Unable to append a value!")},execute:function(E){return l.unifiedExec(this,E)}};return d!=null&&(d.parent=m),m}}));function V(s,l,t){t.matchToken("at")||t.matchToken("from");let o={includeStart:!0,includeEnd:!1};return o.from=t.matchToken("start")?0:s.requireElement("expression",t),(t.matchToken("to")||t.matchOpToken(".."))&&(t.matchToken("end")?o.toEnd=!0:o.to=s.requireElement("expression",t)),t.matchToken("inclusive")?o.includeEnd=!0:t.matchToken("exclusive")&&(o.includeStart=!1),o}class M{constructor(l,t){this.re=l,this.str=t}next(){let l=this.re.exec(this.str);return l===null?{done:!0}:{value:l}}}class j{constructor(l,t,o){this.re=l,this.flags=t,this.str=o}[Symbol.iterator](){return new M(new RegExp(this.re,this.flags),this.str)}}S.addCommand("pick",((s,l,t)=>{if(t.matchToken("pick")){if(t.matchToken("the"),t.matchToken("item")||t.matchToken("items")||t.matchToken("character")||t.matchToken("characters")){let o=V(s,l,t);return t.requireToken("from"),{args:[s.requireElement("expression",t),o.from,o.to],op(c,d,m,E){return o.toEnd&&(E=d.length),o.includeStart||m++,o.includeEnd&&E++,(E==null||E==null)&&(E=m+1),c.result=d.slice(m,E),l.findNext(this,c)}}}if(t.matchToken("match")){t.matchToken("of");let o=s.parseElement("expression",t),h="";return t.matchOpToken("|")&&(h=t.requireTokenType("IDENTIFIER").value),t.requireToken("from"),{args:[s.parseElement("expression",t),o],op(d,m,E){return d.result=new RegExp(E,h).exec(m),l.findNext(this,d)}}}if(t.matchToken("matches")){t.matchToken("of");let o=s.parseElement("expression",t),h="gu";return t.matchOpToken("|")&&(h="g"+t.requireTokenType("IDENTIFIER").value.replace("g","")),t.requireToken("from"),{args:[s.parseElement("expression",t),o],op(d,m,E){return d.result=new j(E,h,m),l.findNext(this,d)}}}}})),S.addCommand("increment",(function(s,l,t){if(t.matchToken("increment")){var o,h=s.parseElement("assignableExpression",t);t.matchToken("by")&&(o=s.requireElement("expression",t));var c={type:"implicitIncrementOp",target:h,args:[h,o],op:function(d,m,E){m=m?parseFloat(m):0,E=o?parseFloat(E):1;var b=m+E;return d.result=b,b},evaluate:function(d){return l.unifiedEval(this,d)}};return D(s,l,t,h,c)}})),S.addCommand("decrement",(function(s,l,t){if(t.matchToken("decrement")){var o,h=s.parseElement("assignableExpression",t);t.matchToken("by")&&(o=s.requireElement("expression",t));var c={type:"implicitDecrementOp",target:h,args:[h,o],op:function(d,m,E){m=m?parseFloat(m):0,E=o?parseFloat(E):1;var b=m-E;return d.result=b,b},evaluate:function(d){return l.unifiedEval(this,d)}};return D(s,l,t,h,c)}}));function _(s,l){var t="text",o;return s.matchToken("a")||s.matchToken("an"),s.matchToken("json")||s.matchToken("Object")?t="json":s.matchToken("response")?t="response":s.matchToken("html")?t="html":s.matchToken("text")||(o=l.requireElement("dotOrColonPath",s).evaluate()),{type:t,conversion:o}}S.addCommand("fetch",(function(s,l,t){if(t.matchToken("fetch")){var o=s.requireElement("stringLike",t);if(t.matchToken("as"))var h=_(t,s);if(t.matchToken("with")&&t.currentToken().value!=="{")var c=s.parseElement("nakedNamedArgumentList",t);else var c=s.parseElement("objectLiteral",t);h==null&&t.matchToken("as")&&(h=_(t,s));var d=h?h.type:"text",m=h?h.conversion:null,E={url:o,argExpressions:c,args:[o,c],op:function(b,k,L){var W=L||{};W.sender=b.me,W.headers=W.headers||{};var C=new AbortController;let R=b.me.addEventListener("fetch:abort",(function(){C.abort()}),{once:!0});W.signal=C.signal,l.triggerEvent(b.me,"hyperscript:beforeFetch",W),l.triggerEvent(b.me,"fetch:beforeRequest",W),L=W;var G=!1;return L.timeout&&setTimeout((function(){G||C.abort()}),L.timeout),fetch(k,L).then((function(U){let K={response:U};return l.triggerEvent(b.me,"fetch:afterResponse",K),U=K.response,d==="response"?(b.result=U,l.triggerEvent(b.me,"fetch:afterRequest",{result:U}),G=!0,l.findNext(E,b)):d==="json"?U.json().then((function(Z){return b.result=Z,l.triggerEvent(b.me,"fetch:afterRequest",{result:Z}),G=!0,l.findNext(E,b)})):U.text().then((function(Z){return m&&(Z=l.convertValue(Z,m)),d==="html"&&(Z=l.convertValue(Z,"Fragment")),b.result=Z,l.triggerEvent(b.me,"fetch:afterRequest",{result:Z}),G=!0,l.findNext(E,b)}))})).catch((function(U){throw l.triggerEvent(b.me,"fetch:error",{reason:U}),U})).finally((function(){b.me.removeEventListener("fetch:abort",R)}))}};return E}}))}function ae(S){S.addCommand("settle",(function(y,T,p){if(p.matchToken("settle")){if(y.commandBoundary(p.currentToken()))var q=y.requireElement("implicitMeTarget",p);else var q=y.requireElement("expression",p);var N={type:"settleCmd",args:[q],op:function(O,I){T.nullCheck(I,q);var D=null,P=!1,V=!1,M=new Promise((function(j){D=j}));return I.addEventListener("transitionstart",(function(){V=!0}),{once:!0}),setTimeout((function(){!V&&!P&&D(T.findNext(N,O))}),500),I.addEventListener("transitionend",(function(){P||D(T.findNext(N,O))}),{once:!0}),M},execute:function(O){return T.unifiedExec(this,O)}};return N}})),S.addCommand("add",(function(y,T,p){if(p.matchToken("add")){var q=y.parseElement("classRef",p),N=null,O=null;if(q==null)N=y.parseElement("attributeRef",p),N==null&&(O=y.parseElement("styleLiteral",p),O==null&&y.raiseParseError(p,"Expected either a class reference or attribute expression"));else for(var I=[q];q=y.parseElement("classRef",p);)I.push(q);if(p.matchToken("to"))var D=y.requireElement("expression",p);else var D=y.requireElement("implicitMeTarget",p);if(p.matchToken("when")){O&&y.raiseParseError(p,"Only class and properties are supported with a when clause");var P=y.requireElement("expression",p)}return I?{classRefs:I,to:D,args:[D,I],op:function(V,M,j){return T.nullCheck(M,D),T.forEach(j,(function(_){T.implicitLoop(M,(function(s){P?(V.result=s,T.evaluateNoPromise(P,V)?s instanceof Element&&s.classList.add(_.className):s instanceof Element&&s.classList.remove(_.className),V.result=null):s instanceof Element&&s.classList.add(_.className)}))})),T.findNext(this,V)}}:N?{type:"addCmd",attributeRef:N,to:D,args:[D],op:function(V,M,j){return T.nullCheck(M,D),T.implicitLoop(M,(function(_){P?(V.result=_,T.evaluateNoPromise(P,V)?_.setAttribute(N.name,N.value):_.removeAttribute(N.name),V.result=null):_.setAttribute(N.name,N.value)})),T.findNext(this,V)},execute:function(V){return T.unifiedExec(this,V)}}:{type:"addCmd",cssDeclaration:O,to:D,args:[D,O],op:function(V,M,j){return T.nullCheck(M,D),T.implicitLoop(M,(function(_){_.style.cssText+=j})),T.findNext(this,V)},execute:function(V){return T.unifiedExec(this,V)}}}})),S.addGrammarElement("styleLiteral",(function(y,T,p){if(p.matchOpToken("{")){for(var q=[""],N=[];p.hasMore();){if(p.matchOpToken("\\"))p.consumeToken();else{if(p.matchOpToken("}"))break;if(p.matchToken("$")){var O=p.matchOpToken("{"),I=y.parseElement("expression",p);O&&p.requireOpToken("}"),N.push(I),q.push("")}else{var D=p.consumeToken();q[q.length-1]+=p.source.substring(D.start,D.end)}}q[q.length-1]+=p.lastWhitespace()}return{type:"styleLiteral",args:[N],op:function(P,V){var M="";return q.forEach((function(j,_){M+=j,_ in V&&(M+=V[_])})),M},evaluate:function(P){return T.unifiedEval(this,P)}}}})),S.addCommand("remove",(function(y,T,p){if(p.matchToken("remove")){var q=y.parseElement("classRef",p),N=null,O=null;if(q==null)N=y.parseElement("attributeRef",p),N==null&&(O=y.parseElement("expression",p),O==null&&y.raiseParseError(p,"Expected either a class reference, attribute expression or value expression"));else for(var I=[q];q=y.parseElement("classRef",p);)I.push(q);if(p.matchToken("from"))var D=y.requireElement("expression",p);else if(O==null)var D=y.requireElement("implicitMeTarget",p);return O?{elementExpr:O,from:D,args:[O,D],op:function(P,V,M){return T.nullCheck(V,O),T.implicitLoop(V,(function(j){j.parentElement&&(M==null||M.contains(j))&&j.parentElement.removeChild(j)})),T.findNext(this,P)}}:{classRefs:I,attributeRef:N,elementExpr:O,from:D,args:[I,D],op:function(P,V,M){return T.nullCheck(M,D),V?T.forEach(V,(function(j){T.implicitLoop(M,(function(_){_.classList.remove(j.className)}))})):T.implicitLoop(M,(function(j){j.removeAttribute(N.name)})),T.findNext(this,P)}}}})),S.addCommand("toggle",(function(y,T,p){if(p.matchToken("toggle")){if(p.matchAnyToken("the","my"),p.currentToken().type==="STYLE_REF"){var q=p.consumeToken().value.substr(1),N=!0,O=v(y,p,q);if(p.matchToken("of")){p.pushFollow("with");try{var I=y.requireElement("expression",p)}finally{p.popFollow()}}else var I=y.requireElement("implicitMeTarget",p)}else if(p.matchToken("between")){var D=!0,P=y.parseElement("classRef",p);p.requireToken("and");var V=y.requireElement("classRef",p)}else{var P=y.parseElement("classRef",p),M=null;if(P==null)M=y.parseElement("attributeRef",p),M==null&&y.raiseParseError(p,"Expected either a class reference or attribute expression");else for(var j=[P];P=y.parseElement("classRef",p);)j.push(P)}if(N!==!0)if(p.matchToken("on"))var I=y.requireElement("expression",p);else var I=y.requireElement("implicitMeTarget",p);if(p.matchToken("for"))var _=y.requireElement("expression",p);else if(p.matchToken("until")){var s=y.requireElement("dotOrColonPath",p,"Expected event name");if(p.matchToken("from"))var l=y.requireElement("expression",p)}var t={classRef:P,classRef2:V,classRefs:j,attributeRef:M,on:I,time:_,evt:s,from:l,toggle:function(o,h,c,d){T.nullCheck(o,I),N?T.implicitLoop(o,(function(m){O("toggle",m)})):D?T.implicitLoop(o,(function(m){m.classList.contains(h.className)?(m.classList.remove(h.className),m.classList.add(c.className)):(m.classList.add(h.className),m.classList.remove(c.className))})):d?T.forEach(d,(function(m){T.implicitLoop(o,(function(E){E.classList.toggle(m.className)}))})):T.implicitLoop(o,(function(m){m.hasAttribute(M.name)?m.removeAttribute(M.name):m.setAttribute(M.name,M.value)}))},args:[I,_,s,l,P,V,j],op:function(o,h,c,d,m,E,b,k){return c?new Promise((function(L){t.toggle(h,E,b,k),setTimeout((function(){t.toggle(h,E,b,k),L(T.findNext(t,o))}),c)})):d?new Promise((function(L){var W=m||o.me;W.addEventListener(d,(function(){t.toggle(h,E,b,k),L(T.findNext(t,o))}),{once:!0}),t.toggle(h,E,b,k)})):(this.toggle(h,E,b,k),T.findNext(t,o))}};return t}}));var a={display:function(y,T,p){if(p)T.style.display=p;else if(y==="toggle")getComputedStyle(T).display==="none"?a.display("show",T,p):a.display("hide",T,p);else if(y==="hide"){let q=S.runtime.getInternalData(T);q.originalDisplay==null&&(q.originalDisplay=T.style.display),T.style.display="none"}else{let q=S.runtime.getInternalData(T);q.originalDisplay&&q.originalDisplay!=="none"?T.style.display=q.originalDisplay:T.style.removeProperty("display")}},visibility:function(y,T,p){p?T.style.visibility=p:y==="toggle"?getComputedStyle(T).visibility==="hidden"?a.visibility("show",T,p):a.visibility("hide",T,p):y==="hide"?T.style.visibility="hidden":T.style.visibility="visible"},opacity:function(y,T,p){p?T.style.opacity=p:y==="toggle"?getComputedStyle(T).opacity==="0"?a.opacity("show",T,p):a.opacity("hide",T,p):y==="hide"?T.style.opacity="0":T.style.opacity="1"}},u=function(y,T,p){var q,N=p.currentToken();return N.value==="when"||N.value==="with"||y.commandBoundary(N)?q=y.parseElement("implicitMeTarget",p):q=y.parseElement("expression",p),q},v=function(y,T,p){var q=r.defaultHideShowStrategy,N=a;r.hideShowStrategies&&(N=Object.assign(N,r.hideShowStrategies)),p=p||q||"display";var O=N[p];return O==null&&y.raiseParseError(T,"Unknown show/hide strategy : "+p),O};S.addCommand("hide",(function(y,T,p){if(p.matchToken("hide")){var q=u(y,T,p),N=null;p.matchToken("with")&&(N=p.requireTokenType("IDENTIFIER","STYLE_REF").value,N.indexOf("*")===0&&(N=N.substr(1)));var O=v(y,p,N);return{target:q,args:[q],op:function(I,D){return T.nullCheck(D,q),T.implicitLoop(D,(function(P){O("hide",P)})),T.findNext(this,I)}}}})),S.addCommand("show",(function(y,T,p){if(p.matchToken("show")){var q=u(y,T,p),N=null;p.matchToken("with")&&(N=p.requireTokenType("IDENTIFIER","STYLE_REF").value,N.indexOf("*")===0&&(N=N.substr(1)));var O=null;if(p.matchOpToken(":")){var I=p.consumeUntilWhitespace();p.matchTokenType("WHITESPACE"),O=I.map((function(V){return V.value})).join("")}if(p.matchToken("when"))var D=y.requireElement("expression",p);var P=v(y,p,N);return{target:q,when:D,args:[q],op:function(V,M){return T.nullCheck(M,q),T.implicitLoop(M,(function(j){D?(V.result=j,T.evaluateNoPromise(D,V)?P("show",j,O):P("hide",j),V.result=null):P("show",j,O)})),T.findNext(this,V)}}}})),S.addCommand("take",(function(y,T,p){if(p.matchToken("take")){let P=null,V=[];for(;P=y.parseElement("classRef",p);)V.push(P);var q=null,N=null;let M=V.length>0;if(M||(q=y.parseElement("attributeRef",p),q==null&&y.raiseParseError(p,"Expected either a class reference or attribute expression"),p.matchToken("with")&&(N=y.requireElement("expression",p))),p.matchToken("from"))var O=y.requireElement("expression",p);if(p.matchToken("for"))var I=y.requireElement("expression",p);else var I=y.requireElement("implicitMeTarget",p);if(M){var D={classRefs:V,from:O,forElt:I,args:[V,O,I],op:function(j,_,s,l){return T.nullCheck(l,I),T.implicitLoop(_,(function(t){var o=t.className;s?T.implicitLoop(s,(function(h){h.classList.remove(o)})):T.implicitLoop(t,(function(h){h.classList.remove(o)})),T.implicitLoop(l,(function(h){h.classList.add(o)}))})),T.findNext(this,j)}};return D}else{var D={attributeRef:q,from:O,forElt:I,args:[O,I,N],op:function(_,s,l,t){return T.nullCheck(s,O),T.nullCheck(l,I),T.implicitLoop(s,(function(o){t?o.setAttribute(q.name,t):o.removeAttribute(q.name)})),T.implicitLoop(l,(function(o){o.setAttribute(q.name,q.value||"")})),T.findNext(this,_)}};return D}}}));function g(y,T,p,q){if(p!=null)var N=y.resolveSymbol(p,T);else var N=T;if(N instanceof Element||N instanceof HTMLDocument){for(;N.firstChild;)N.removeChild(N.firstChild);N.append(S.runtime.convertValue(q,"Fragment")),y.processNode(N)}else if(p!=null)y.setSymbol(p,T,null,q);else throw"Don't know how to put a value into "+typeof T}S.addCommand("put",(function(y,T,p){if(p.matchToken("put")){var q=y.requireElement("expression",p),N=p.matchAnyToken("into","before","after");N==null&&p.matchToken("at")&&(p.matchToken("the"),N=p.matchAnyToken("start","end"),p.requireToken("of")),N==null&&y.raiseParseError(p,"Expected one of 'into', 'before', 'at start of', 'at end of', 'after'");var O=y.requireElement("expression",p),I=N.value,D=!1,P=!1,V=null,M=null;if(O.type==="arrayIndex"&&I==="into")D=!0,M=O.prop,V=O.root;else if(O.prop&&O.root&&I==="into")M=O.prop.value,V=O.root;else if(O.type==="symbol"&&I==="into")P=!0,M=O.name;else if(O.type==="attributeRef"&&I==="into"){var j=!0;M=O.name,V=y.requireElement("implicitMeTarget",p)}else if(O.type==="styleRef"&&I==="into"){var _=!0;M=O.name,V=y.requireElement("implicitMeTarget",p)}else if(O.attribute&&I==="into"){var j=O.attribute.type==="attributeRef",_=O.attribute.type==="styleRef";M=O.attribute.name,V=O.root}else V=O;var s={target:O,operation:I,symbolWrite:P,value:q,args:[V,M,q],op:function(l,t,o,h){if(P)g(T,l,o,h);else if(T.nullCheck(t,V),I==="into")j?T.implicitLoop(t,(function(d){d.setAttribute(o,h)})):_?T.implicitLoop(t,(function(d){d.style[o]=h})):D?t[o]=h:T.implicitLoop(t,(function(d){g(T,d,o,h)}));else{var c=I==="before"?Element.prototype.before:I==="after"?Element.prototype.after:I==="start"?Element.prototype.prepend:Element.prototype.append;T.implicitLoop(t,(function(d){c.call(d,h instanceof Node?h:T.convertValue(h,"Fragment")),d.parentElement?T.processNode(d.parentElement):T.processNode(d)}))}return T.findNext(this,l)}};return s}}));function A(y,T,p){var q;if(p.matchToken("the")||p.matchToken("element")||p.matchToken("elements")||p.currentToken().type==="CLASS_REF"||p.currentToken().type==="ID_REF"||p.currentToken().op&&p.currentToken().value==="<"){y.possessivesDisabled=!0;try{q=y.parseElement("expression",p)}finally{delete y.possessivesDisabled}p.matchOpToken("'")&&p.requireToken("s")}else if(p.currentToken().type==="IDENTIFIER"&&p.currentToken().value==="its"){var N=p.matchToken("its");q={type:"pseudopossessiveIts",token:N,name:N.value,evaluate:function(O){return T.resolveSymbol("it",O)}}}else p.matchToken("my")||p.matchToken("me"),q=y.parseElement("implicitMeTarget",p);return q}S.addCommand("transition",(function(y,T,p){if(p.matchToken("transition")){for(var q=A(y,T,p),N=[],O=[],I=[],D=p.currentToken();!y.commandBoundary(D)&&D.value!=="over"&&D.value!=="using";){if(p.currentToken().type==="STYLE_REF"){let _=p.consumeToken().value.substr(1);N.push({type:"styleRefValue",evaluate:function(){return _}})}else N.push(y.requireElement("stringLike",p));p.matchToken("from")?O.push(y.requireElement("expression",p)):O.push(null),p.requireToken("to"),p.matchToken("initial")?I.push({type:"initial_literal",evaluate:function(){return"initial"}}):I.push(y.requireElement("expression",p)),D=p.currentToken()}if(p.matchToken("over"))var P=y.requireElement("expression",p);else if(p.matchToken("using"))var V=y.requireElement("expression",p);var M={to:I,args:[q,N,O,I,V,P],op:function(j,_,s,l,t,o,h){T.nullCheck(_,q);var c=[];return T.implicitLoop(_,(function(d){var m=new Promise((function(E,b){var k=d.style.transition;h?d.style.transition="all "+h+"ms ease-in":o?d.style.transition=o:d.style.transition=r.defaultTransition;for(var L=T.getInternalData(d),W=getComputedStyle(d),C={},R=0;R<W.length;R++){var G=W[R],U=W[G];C[G]=U}L.initialStyles||(L.initialStyles=C);for(var R=0;R<s.length;R++){var K=s[R],Z=l[R];Z==="computed"||Z==null?d.style[K]=C[K]:d.style[K]=Z}var me=!1,pe=!1;d.addEventListener("transitionend",(function(){pe||(d.style.transition=k,pe=!0,E())}),{once:!0}),d.addEventListener("transitionstart",(function(){me=!0}),{once:!0}),setTimeout((function(){!pe&&!me&&(d.style.transition=k,pe=!0,E())}),100),setTimeout((function(){for(var ne=[],ue=0;ue<s.length;ue++){var ve=s[ue],ce=t[ue];if(ce==="initial"){var he=L.initialStyles[ve];d.style[ve]=he}else d.style[ve]=ce}}),0)}));c.push(m)})),Promise.all(c).then((function(){return T.findNext(M,j)}))}};return M}})),S.addCommand("measure",(function(y,T,p){if(p.matchToken("measure")){var q=A(y,T,p),N=[];if(!y.commandBoundary(p.currentToken()))do N.push(p.matchTokenType("IDENTIFIER").value);while(p.matchOpToken(","));return{properties:N,args:[q],op:function(O,I){T.nullCheck(I,q),0 in I&&(I=I[0]);var D=I.getBoundingClientRect(),P={top:I.scrollTop,left:I.scrollLeft,topMax:I.scrollTopMax,leftMax:I.scrollLeftMax,height:I.scrollHeight,width:I.scrollWidth};return O.result={x:D.x,y:D.y,left:D.left,top:D.top,right:D.right,bottom:D.bottom,width:D.width,height:D.height,bounds:D,scrollLeft:P.left,scrollTop:P.top,scrollLeftMax:P.leftMax,scrollTopMax:P.topMax,scrollWidth:P.width,scrollHeight:P.height,scroll:P},T.forEach(N,(function(V){if(V in O.result)O.locals[V]=O.result[V];else throw"No such measurement as "+V})),T.findNext(this,O)}}}})),S.addLeafExpression("closestExpr",(function(y,T,p){if(p.matchToken("closest")){if(p.matchToken("parent"))var q=!0;var N=null;if(p.currentToken().type==="ATTRIBUTE_REF"){var O=y.requireElement("attributeRefAccess",p,null);N="["+O.attribute.name+"]"}if(N==null){var I=y.requireElement("expression",p);I.css==null?y.raiseParseError(p,"Expected a CSS expression"):N=I.css}if(p.matchToken("to"))var D=y.parseElement("expression",p);else var D=y.parseElement("implicitMeTarget",p);var P={type:"closestExpr",parentSearch:q,expr:I,css:N,to:D,args:[D],op:function(V,M){if(M==null)return null;{let j=[];return T.implicitLoop(M,(function(_){q?j.push(_.parentElement?_.parentElement.closest(N):null):j.push(_.closest(N))})),T.shouldAutoIterate(M)?j:j[0]}},evaluate:function(V){return T.unifiedEval(this,V)}};return O?(O.root=P,O.args=[P],O):P}})),S.addCommand("go",(function(y,T,p){if(p.matchToken("go")){if(p.matchToken("back"))var q=!0;else if(p.matchToken("to"),p.matchToken("url")){var N=y.requireElement("stringLike",p),O=!0;if(p.matchToken("in")){p.requireToken("new"),p.requireToken("window");var I=!0}}else{p.matchToken("the");var D=p.matchAnyToken("top","middle","bottom"),P=p.matchAnyToken("left","center","right");(D||P)&&p.requireToken("of");var N=y.requireElement("unaryExpression",p),V=p.matchAnyOpToken("+","-");if(V){p.pushFollow("px");try{var M=y.requireElement("expression",p)}finally{p.popFollow()}}p.matchToken("px");var j=p.matchAnyToken("smoothly","instantly"),_={block:"start",inline:"nearest"};D&&(D.value==="top"?_.block="start":D.value==="bottom"?_.block="end":D.value==="middle"&&(_.block="center")),P&&(P.value==="left"?_.inline="start":P.value==="center"?_.inline="center":P.value==="right"&&(_.inline="end")),j&&(j.value==="smoothly"?_.behavior="smooth":j.value==="instantly"&&(_.behavior="instant"))}var s={target:N,args:[N,M],op:function(l,t,o){return q?window.history.back():O?t&&(I?window.open(t):window.location.href=t):T.implicitLoop(t,(function(h){if(h===window&&(h=document.body),V){let c=h.getBoundingClientRect(),d=document.createElement("div"),m=V.value==="+"?o:o*-1,E=_.inline=="start"||_.inline=="end"?m:0,b=_.block=="start"||_.block=="end"?m:0;d.style.position="absolute",d.style.top=c.top+window.scrollY+b+"px",d.style.left=c.left+window.scrollX+E+"px",d.style.height=c.height+"px",d.style.width=c.width+"px",d.style.zIndex=""+Number.MIN_SAFE_INTEGER,d.style.opacity="0",document.body.appendChild(d),setTimeout((function(){document.body.removeChild(d)}),100),h=d}h.scrollIntoView(_)})),T.findNext(s,l)}};return s}})),r.conversions.dynamicResolvers.push((function(y,T){if(!(y==="Values"||y.indexOf("Values:")===0))return;var p=y.split(":")[1],q={},N=S.runtime.implicitLoop.bind(S.runtime);if(N(T,(function(D){var P=I(D);if(P!==void 0){q[P.name]=P.value;return}if(D.querySelectorAll!=null){var V=D.querySelectorAll("input,select,textarea");V.forEach(O)}})),p){if(p==="JSON")return JSON.stringify(q);if(p==="Form")return new URLSearchParams(q).toString();throw"Unknown conversion: "+p}else return q;function O(D){var P=I(D);if(P!=null){if(q[P.name]==null){q[P.name]=P.value;return}if(Array.isArray(q[P.name])&&Array.isArray(P.value)){q[P.name]=[].concat(q[P.name],P.value);return}}}function I(D){try{var P={name:D.name,value:D.value};if(P.name==null||P.value==null||D.type=="radio"&&D.checked==!1)return;if(D.type=="checkbox"&&(D.checked==!1?P.value=void 0:typeof P.value=="string"&&(P.value=[P.value])),D.type=="select-multiple"){var V=D.querySelectorAll("option[selected]");P.value=[];for(var M=0;M<V.length;M++)P.value.push(V[M].value)}return P}catch{return}}})),r.conversions.HTML=function(y){var T=function(p){if(p instanceof Array)return p.map((function(I){return T(I)})).join("");if(p instanceof HTMLElement)return p.outerHTML;if(p instanceof NodeList){for(var q="",N=0;N<p.length;N++){var O=p[N];O instanceof HTMLElement&&(q+=O.outerHTML)}return q}return p.toString?p.toString():""};return T(y)},r.conversions.Fragment=function(y){var T=document.createDocumentFragment();return S.runtime.implicitLoop(y,(function(p){if(p instanceof Node)T.append(p);else{var q=document.createElement("template");q.innerHTML=p,T.append(q.content)}})),T}}let J=new w,Ie=J.lexer,fe=J.parser;function ye(S,a){return J.evaluate(S,a)}function qe(){var S=Array.from(e.document.querySelectorAll("script[type='text/hyperscript'][src]"));Promise.all(S.map((function(g){return fetch(g.src).then((function(A){return A.text()}))}))).then((g=>g.forEach((A=>Te(A))))).then((()=>a((function(){v(),J.processNode(document.documentElement),document.dispatchEvent(new Event("hyperscript:ready")),e.document.addEventListener("htmx:load",(function(g){J.processNode(g.detail.elt)}))}))));function a(g){document.readyState!=="loading"?setTimeout(g):document.addEventListener("DOMContentLoaded",g)}function u(){var g=document.querySelector('meta[name="htmx-config"]');return g?te(g.content):null}function v(){var g=u();g&&Object.assign(r,g)}}let Te=Object.assign(ye,{config:r,use(S){S(Te)},internals:{lexer:Ie,parser:fe,runtime:J,Lexer:i,Tokens:f,Parser:x,Runtime:w},ElementCollection:z,addFeature:fe.addFeature.bind(fe),addCommand:fe.addCommand.bind(fe),addLeafExpression:fe.addLeafExpression.bind(fe),addIndirectExpression:fe.addIndirectExpression.bind(fe),evaluate:J.evaluate.bind(J),parse:J.parse.bind(J),processNode:J.processNode.bind(J),version:"0.9.14",browserInit:qe});return Te}))});var $e=Ve((Ye,Qe)=>{function _e(){var e=document.querySelector("[data-toggle-theme]"),n=e?e.getAttribute("data-key"):null;(function(r=localStorage.getItem(n||"theme")){localStorage.getItem(n||"theme")&&(document.documentElement.setAttribute("data-theme",r),e&&[...document.querySelectorAll("[data-toggle-theme]")].forEach(i=>{i.classList.add(e.getAttribute("data-act-class"))}))})(),e&&[...document.querySelectorAll("[data-toggle-theme]")].forEach(r=>{r.addEventListener("click",function(){var i=r.getAttribute("data-toggle-theme");if(i){var f=i.split(",");document.documentElement.getAttribute("data-theme")==f[0]?f.length==1?(document.documentElement.removeAttribute("data-theme"),localStorage.removeItem(n||"theme")):(document.documentElement.setAttribute("data-theme",f[1]),localStorage.setItem(n||"theme",f[1])):(document.documentElement.setAttribute("data-theme",f[0]),localStorage.setItem(n||"theme",f[0]))}[...document.querySelectorAll("[data-toggle-theme]")].forEach(x=>{x.classList.toggle(this.getAttribute("data-act-class"))})})})}function Ge(){var e=document.querySelector("[data-set-theme='']"),n=e?e.getAttribute("data-key"):null;(function(r=localStorage.getItem(n||"theme")){if(r!=null&&r!="")if(localStorage.getItem(n||"theme")&&localStorage.getItem(n||"theme")!=""){document.documentElement.setAttribute("data-theme",r);var i=document.querySelector("[data-set-theme='"+r.toString()+"']");i&&([...document.querySelectorAll("[data-set-theme]")].forEach(f=>{f.classList.remove(f.getAttribute("data-act-class"))}),i.getAttribute("data-act-class")&&i.classList.add(i.getAttribute("data-act-class")))}else{var i=document.querySelector("[data-set-theme='']");i.getAttribute("data-act-class")&&i.classList.add(i.getAttribute("data-act-class"))}})(),[...document.querySelectorAll("[data-set-theme]")].forEach(r=>{r.addEventListener("click",function(){document.documentElement.setAttribute("data-theme",this.getAttribute("data-set-theme")),localStorage.setItem(n||"theme",document.documentElement.getAttribute("data-theme")),[...document.querySelectorAll("[data-set-theme]")].forEach(i=>{i.classList.remove(i.getAttribute("data-act-class"))}),r.getAttribute("data-act-class")&&r.classList.add(r.getAttribute("data-act-class"))})})}function Xe(){var e=document.querySelector("select[data-choose-theme]"),n=e?e.getAttribute("data-key"):null;(function(r=localStorage.getItem(n||"theme")){if(localStorage.getItem(n||"theme")){document.documentElement.setAttribute("data-theme",r);var i=document.querySelector("select[data-choose-theme] [value='"+r.toString()+"']");i&&[...document.querySelectorAll("select[data-choose-theme] [value='"+r.toString()+"']")].forEach(f=>{f.selected=!0})}})(),e&&[...document.querySelectorAll("select[data-choose-theme]")].forEach(r=>{r.addEventListener("change",function(){document.documentElement.setAttribute("data-theme",this.value),localStorage.setItem(n||"theme",document.documentElement.getAttribute("data-theme")),[...document.querySelectorAll("select[data-choose-theme] [value='"+localStorage.getItem(n||"theme")+"']")].forEach(i=>{i.selected=!0})})})}function ze(e=!0){e===!0?document.addEventListener("DOMContentLoaded",function(n){_e(),Xe(),Ge()}):(_e(),Xe(),Ge())}typeof Ye<"u"?Qe.exports={themeChange:ze}:ze()});var st=(function(){"use strict";let htmx={onLoad:null,process:null,on:null,off:null,trigger:null,ajax:null,find:null,findAll:null,closest:null,values:function(e,n){return getInputValues(e,n||"post").values},remove:null,addClass:null,removeClass:null,toggleClass:null,takeClass:null,swap:null,defineExtension:null,removeExtension:null,logAll:null,logNone:null,logger:null,config:{historyEnabled:!0,historyCacheSize:10,refreshOnHistoryMiss:!1,defaultSwapStyle:"innerHTML",defaultSwapDelay:0,defaultSettleDelay:20,includeIndicatorStyles:!0,indicatorClass:"htmx-indicator",requestClass:"htmx-request",addedClass:"htmx-added",settlingClass:"htmx-settling",swappingClass:"htmx-swapping",allowEval:!0,allowScriptTags:!0,inlineScriptNonce:"",inlineStyleNonce:"",attributesToSettle:["class","style","width","height"],withCredentials:!1,timeout:0,wsReconnectDelay:"full-jitter",wsBinaryType:"blob",disableSelector:"[hx-disable], [data-hx-disable]",scrollBehavior:"instant",defaultFocusScroll:!1,getCacheBusterParam:!1,globalViewTransitions:!1,methodsThatUseUrlParams:["get","delete"],selfRequestsOnly:!0,ignoreTitle:!1,scrollIntoViewOnBoost:!0,triggerSpecsCache:null,disableInheritance:!1,responseHandling:[{code:"204",swap:!1},{code:"[23]..",swap:!0},{code:"[45]..",swap:!1,error:!0}],allowNestedOobSwaps:!0,historyRestoreAsHxRequest:!0,reportValidityOfForms:!1},parseInterval:null,location,_:null,version:"2.0.8"};htmx.onLoad=onLoadHelper,htmx.process=processNode,htmx.on=addEventListenerImpl,htmx.off=removeEventListenerImpl,htmx.trigger=triggerEvent,htmx.ajax=ajaxHelper,htmx.find=find,htmx.findAll=findAll,htmx.closest=closest,htmx.remove=removeElement,htmx.addClass=addClassToElement,htmx.removeClass=removeClassFromElement,htmx.toggleClass=toggleClassOnElement,htmx.takeClass=takeClassForElement,htmx.swap=swap,htmx.defineExtension=defineExtension,htmx.removeExtension=removeExtension,htmx.logAll=logAll,htmx.logNone=logNone,htmx.parseInterval=parseInterval,htmx._=internalEval;let internalAPI={addTriggerHandler,bodyContains,canAccessLocalStorage,findThisElement,filterValues,swap,hasAttribute,getAttributeValue,getClosestAttributeValue,getClosestMatch,getExpressionVars,getHeaders,getInputValues,getInternalData,getSwapSpecification,getTriggerSpecs,getTarget,makeFragment,mergeObjects,makeSettleInfo,oobSwap,querySelectorExt,settleImmediately,shouldCancel,triggerEvent,triggerErrorEvent,withExtensions},VERBS=["get","post","put","delete","patch"],VERB_SELECTOR=VERBS.map(function(e){return"[hx-"+e+"], [data-hx-"+e+"]"}).join(", ");function parseInterval(e){if(e==null)return;let n=NaN;return e.slice(-2)=="ms"?n=parseFloat(e.slice(0,-2)):e.slice(-1)=="s"?n=parseFloat(e.slice(0,-1))*1e3:e.slice(-1)=="m"?n=parseFloat(e.slice(0,-1))*1e3*60:n=parseFloat(e),isNaN(n)?void 0:n}function getRawAttribute(e,n){return e instanceof Element&&e.getAttribute(n)}function hasAttribute(e,n){return!!e.hasAttribute&&(e.hasAttribute(n)||e.hasAttribute("data-"+n))}function getAttributeValue(e,n){return getRawAttribute(e,n)||getRawAttribute(e,"data-"+n)}function parentElt(e){let n=e.parentElement;return!n&&e.parentNode instanceof ShadowRoot?e.parentNode:n}function getDocument(){return document}function getRootNode(e,n){return e.getRootNode?e.getRootNode({composed:n}):getDocument()}function getClosestMatch(e,n){for(;e&&!n(e);)e=parentElt(e);return e||null}function getAttributeValueWithDisinheritance(e,n,r){let i=getAttributeValue(n,r),f=getAttributeValue(n,"hx-disinherit");var x=getAttributeValue(n,"hx-inherit");if(e!==n){if(htmx.config.disableInheritance)return x&&(x==="*"||x.split(" ").indexOf(r)>=0)?i:null;if(f&&(f==="*"||f.split(" ").indexOf(r)>=0))return"unset"}return i}function getClosestAttributeValue(e,n){let r=null;if(getClosestMatch(e,function(i){return!!(r=getAttributeValueWithDisinheritance(e,asElement(i),n))}),r!=="unset")return r}function matches(e,n){return e instanceof Element&&e.matches(n)}function getStartTag(e){let r=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i.exec(e);return r?r[1].toLowerCase():""}function parseHTML(e){return"parseHTMLUnsafe"in Document?Document.parseHTMLUnsafe(e):new DOMParser().parseFromString(e,"text/html")}function takeChildrenFor(e,n){for(;n.childNodes.length>0;)e.append(n.childNodes[0])}function duplicateScript(e){let n=getDocument().createElement("script");return forEach(e.attributes,function(r){n.setAttribute(r.name,r.value)}),n.textContent=e.textContent,n.async=!1,htmx.config.inlineScriptNonce&&(n.nonce=htmx.config.inlineScriptNonce),n}function isJavaScriptScriptNode(e){return e.matches("script")&&(e.type==="text/javascript"||e.type==="module"||e.type==="")}function normalizeScriptTags(e){Array.from(e.querySelectorAll("script")).forEach(n=>{if(isJavaScriptScriptNode(n)){let r=duplicateScript(n),i=n.parentNode;try{i.insertBefore(r,n)}catch(f){logError(f)}finally{n.remove()}}})}function makeFragment(e){let n=e.replace(/<head(\s[^>]*)?>[\s\S]*?<\/head>/i,""),r=getStartTag(n),i;if(r==="html"){i=new DocumentFragment;let x=parseHTML(e);takeChildrenFor(i,x.body),i.title=x.title}else if(r==="body"){i=new DocumentFragment;let x=parseHTML(n);takeChildrenFor(i,x.body),i.title=x.title}else{let x=parseHTML('<body><template class="internal-htmx-wrapper">'+n+"</template></body>");i=x.querySelector("template").content,i.title=x.title;var f=i.querySelector("title");f&&f.parentNode===i&&(f.remove(),i.title=f.innerText)}return i&&(htmx.config.allowScriptTags?normalizeScriptTags(i):i.querySelectorAll("script").forEach(x=>x.remove())),i}function maybeCall(e){e&&e()}function isType(e,n){return Object.prototype.toString.call(e)==="[object "+n+"]"}function isFunction(e){return typeof e=="function"}function isRawObject(e){return isType(e,"Object")}function getInternalData(e){let n="htmx-internal-data",r=e[n];return r||(r=e[n]={}),r}function toArray(e){let n=[];if(e)for(let r=0;r<e.length;r++)n.push(e[r]);return n}function forEach(e,n){if(e)for(let r=0;r<e.length;r++)n(e[r])}function isScrolledIntoView(e){let n=e.getBoundingClientRect(),r=n.top,i=n.bottom;return r<window.innerHeight&&i>=0}function bodyContains(e){return e.getRootNode({composed:!0})===document}function splitOnWhitespace(e){return e.trim().split(/\s+/)}function mergeObjects(e,n){for(let r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);return e}function parseJSON(e){try{return JSON.parse(e)}catch(n){return logError(n),null}}function canAccessLocalStorage(){let e="htmx:sessionStorageTest";try{return sessionStorage.setItem(e,e),sessionStorage.removeItem(e),!0}catch{return!1}}function normalizePath(e){let n=new URL(e,"http://x");return n&&(e=n.pathname+n.search),e!="/"&&(e=e.replace(/\/+$/,"")),e}function internalEval(str){return maybeEval(getDocument().body,function(){return eval(str)})}function onLoadHelper(e){return htmx.on("htmx:load",function(r){e(r.detail.elt)})}function logAll(){htmx.logger=function(e,n,r){console&&console.log(n,e,r)}}function logNone(){htmx.logger=null}function find(e,n){return typeof e!="string"?e.querySelector(n):find(getDocument(),e)}function findAll(e,n){return typeof e!="string"?e.querySelectorAll(n):findAll(getDocument(),e)}function getWindow(){return window}function removeElement(e,n){e=resolveTarget(e),n?getWindow().setTimeout(function(){removeElement(e),e=null},n):parentElt(e).removeChild(e)}function asElement(e){return e instanceof Element?e:null}function asHtmlElement(e){return e instanceof HTMLElement?e:null}function asString(e){return typeof e=="string"?e:null}function asParentNode(e){return e instanceof Element||e instanceof Document||e instanceof DocumentFragment?e:null}function addClassToElement(e,n,r){e=asElement(resolveTarget(e)),e&&(r?getWindow().setTimeout(function(){addClassToElement(e,n),e=null},r):e.classList&&e.classList.add(n))}function removeClassFromElement(e,n,r){let i=asElement(resolveTarget(e));i&&(r?getWindow().setTimeout(function(){removeClassFromElement(i,n),i=null},r):i.classList&&(i.classList.remove(n),i.classList.length===0&&i.removeAttribute("class")))}function toggleClassOnElement(e,n){e=resolveTarget(e),e.classList.toggle(n)}function takeClassForElement(e,n){e=resolveTarget(e),forEach(e.parentElement.children,function(r){removeClassFromElement(r,n)}),addClassToElement(asElement(e),n)}function closest(e,n){return e=asElement(resolveTarget(e)),e?e.closest(n):null}function startsWith(e,n){return e.substring(0,n.length)===n}function endsWith(e,n){return e.substring(e.length-n.length)===n}function normalizeSelector(e){let n=e.trim();return startsWith(n,"<")&&endsWith(n,"/>")?n.substring(1,n.length-2):n}function querySelectorAllExt(e,n,r){if(n.indexOf("global ")===0)return querySelectorAllExt(e,n.slice(7),!0);e=resolveTarget(e);let i=[];{let w=0,H=0;for(let F=0;F<n.length;F++){let B=n[F];if(B===","&&w===0){i.push(n.substring(H,F)),H=F+1;continue}B==="<"?w++:B==="/"&&F<n.length-1&&n[F+1]===">"&&w--}H<n.length&&i.push(n.substring(H))}let f=[],x=[];for(;i.length>0;){let w=normalizeSelector(i.shift()),H;w.indexOf("closest ")===0?H=closest(asElement(e),normalizeSelector(w.slice(8))):w.indexOf("find ")===0?H=find(asParentNode(e),normalizeSelector(w.slice(5))):w==="next"||w==="nextElementSibling"?H=asElement(e).nextElementSibling:w.indexOf("next ")===0?H=scanForwardQuery(e,normalizeSelector(w.slice(5)),!!r):w==="previous"||w==="previousElementSibling"?H=asElement(e).previousElementSibling:w.indexOf("previous ")===0?H=scanBackwardsQuery(e,normalizeSelector(w.slice(9)),!!r):w==="document"?H=document:w==="window"?H=window:w==="body"?H=document.body:w==="root"?H=getRootNode(e,!!r):w==="host"?H=e.getRootNode().host:x.push(w),H&&f.push(H)}if(x.length>0){let w=x.join(","),H=asParentNode(getRootNode(e,!!r));f.push(...toArray(H.querySelectorAll(w)))}return f}var scanForwardQuery=function(e,n,r){let i=asParentNode(getRootNode(e,r)).querySelectorAll(n);for(let f=0;f<i.length;f++){let x=i[f];if(x.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_PRECEDING)return x}},scanBackwardsQuery=function(e,n,r){let i=asParentNode(getRootNode(e,r)).querySelectorAll(n);for(let f=i.length-1;f>=0;f--){let x=i[f];if(x.compareDocumentPosition(e)===Node.DOCUMENT_POSITION_FOLLOWING)return x}};function querySelectorExt(e,n){return typeof e!="string"?querySelectorAllExt(e,n)[0]:querySelectorAllExt(getDocument().body,e)[0]}function resolveTarget(e,n){return typeof e=="string"?find(asParentNode(n)||document,e):e}function processEventArgs(e,n,r,i){return isFunction(n)?{target:getDocument().body,event:asString(e),listener:n,options:r}:{target:resolveTarget(e),event:asString(n),listener:r,options:i}}function addEventListenerImpl(e,n,r,i){return ready(function(){let x=processEventArgs(e,n,r,i);x.target.addEventListener(x.event,x.listener,x.options)}),isFunction(n)?n:r}function removeEventListenerImpl(e,n,r){return ready(function(){let i=processEventArgs(e,n,r);i.target.removeEventListener(i.event,i.listener)}),isFunction(n)?n:r}let DUMMY_ELT=getDocument().createElement("output");function findAttributeTargets(e,n){let r=getClosestAttributeValue(e,n);if(r){if(r==="this")return[findThisElement(e,n)];{let i=querySelectorAllExt(e,r);if(/(^|,)(\s*)inherit(\s*)($|,)/.test(r)){let x=asElement(getClosestMatch(e,function(w){return w!==e&&hasAttribute(asElement(w),n)}));x&&i.push(...findAttributeTargets(x,n))}return i.length===0?(logError('The selector "'+r+'" on '+n+" returned no matches!"),[DUMMY_ELT]):i}}}function findThisElement(e,n){return asElement(getClosestMatch(e,function(r){return getAttributeValue(asElement(r),n)!=null}))}function getTarget(e){let n=getClosestAttributeValue(e,"hx-target");return n?n==="this"?findThisElement(e,"hx-target"):querySelectorExt(e,n):getInternalData(e).boosted?getDocument().body:e}function shouldSettleAttribute(e){return htmx.config.attributesToSettle.includes(e)}function cloneAttributes(e,n){forEach(Array.from(e.attributes),function(r){!n.hasAttribute(r.name)&&shouldSettleAttribute(r.name)&&e.removeAttribute(r.name)}),forEach(n.attributes,function(r){shouldSettleAttribute(r.name)&&e.setAttribute(r.name,r.value)})}function isInlineSwap(e,n){let r=getExtensions(n);for(let i=0;i<r.length;i++){let f=r[i];try{if(f.isInlineSwap(e))return!0}catch(x){logError(x)}}return e==="outerHTML"}function oobSwap(e,n,r,i){i=i||getDocument();let f="#"+CSS.escape(getRawAttribute(n,"id")),x="outerHTML";e==="true"||(e.indexOf(":")>0?(x=e.substring(0,e.indexOf(":")),f=e.substring(e.indexOf(":")+1)):x=e),n.removeAttribute("hx-swap-oob"),n.removeAttribute("data-hx-swap-oob");let w=querySelectorAllExt(i,f,!1);return w.length?(forEach(w,function(H){let F,B=n.cloneNode(!0);F=getDocument().createDocumentFragment(),F.appendChild(B),isInlineSwap(x,H)||(F=asParentNode(B));let $={shouldSwap:!0,target:H,fragment:F};triggerEvent(H,"htmx:oobBeforeSwap",$)&&(H=$.target,$.shouldSwap&&(handlePreservedElements(F),swapWithStyle(x,H,H,F,r),restorePreservedElements()),forEach(r.elts,function(X){triggerEvent(X,"htmx:oobAfterSwap",$)}))}),n.parentNode.removeChild(n)):(n.parentNode.removeChild(n),triggerErrorEvent(getDocument().body,"htmx:oobErrorNoTarget",{content:n})),e}function restorePreservedElements(){let e=find("#--htmx-preserve-pantry--");if(e){for(let n of[...e.children]){let r=find("#"+n.id);r.parentNode.moveBefore(n,r),r.remove()}e.remove()}}function handlePreservedElements(e){forEach(findAll(e,"[hx-preserve], [data-hx-preserve]"),function(n){let r=getAttributeValue(n,"id"),i=getDocument().getElementById(r);if(i!=null)if(n.moveBefore){let f=find("#--htmx-preserve-pantry--");f==null&&(getDocument().body.insertAdjacentHTML("afterend","<div id='--htmx-preserve-pantry--'></div>"),f=find("#--htmx-preserve-pantry--")),f.moveBefore(i,null)}else n.parentNode.replaceChild(i,n)})}function handleAttributes(e,n,r){forEach(n.querySelectorAll("[id]"),function(i){let f=getRawAttribute(i,"id");if(f&&f.length>0){let x=f.replace("'","\\'"),w=i.tagName.replace(":","\\:"),H=asParentNode(e),F=H&&H.querySelector(w+"[id='"+x+"']");if(F&&F!==H){let B=i.cloneNode();cloneAttributes(i,F),r.tasks.push(function(){cloneAttributes(i,B)})}}})}function makeAjaxLoadTask(e){return function(){removeClassFromElement(e,htmx.config.addedClass),processNode(asElement(e)),processFocus(asParentNode(e)),triggerEvent(e,"htmx:load")}}function processFocus(e){let n="[autofocus]",r=asHtmlElement(matches(e,n)?e:e.querySelector(n));r?.focus()}function insertNodesBefore(e,n,r,i){for(handleAttributes(e,r,i);r.childNodes.length>0;){let f=r.firstChild;addClassToElement(asElement(f),htmx.config.addedClass),e.insertBefore(f,n),f.nodeType!==Node.TEXT_NODE&&f.nodeType!==Node.COMMENT_NODE&&i.tasks.push(makeAjaxLoadTask(f))}}function stringHash(e,n){let r=0;for(;r<e.length;)n=(n<<5)-n+e.charCodeAt(r++)|0;return n}function attributeHash(e){let n=0;for(let r=0;r<e.attributes.length;r++){let i=e.attributes[r];i.value&&(n=stringHash(i.name,n),n=stringHash(i.value,n))}return n}function deInitOnHandlers(e){let n=getInternalData(e);if(n.onHandlers){for(let r=0;r<n.onHandlers.length;r++){let i=n.onHandlers[r];removeEventListenerImpl(e,i.event,i.listener)}delete n.onHandlers}}function deInitNode(e){let n=getInternalData(e);n.timeout&&clearTimeout(n.timeout),n.listenerInfos&&forEach(n.listenerInfos,function(r){r.on&&removeEventListenerImpl(r.on,r.trigger,r.listener)}),deInitOnHandlers(e),forEach(Object.keys(n),function(r){r!=="firstInitCompleted"&&delete n[r]})}function cleanUpElement(e){triggerEvent(e,"htmx:beforeCleanupElement"),deInitNode(e),forEach(e.children,function(n){cleanUpElement(n)})}function swapOuterHTML(e,n,r){if(e.tagName==="BODY")return swapInnerHTML(e,n,r);let i,f=e.previousSibling,x=parentElt(e);if(x){for(insertNodesBefore(x,e,n,r),f==null?i=x.firstChild:i=f.nextSibling,r.elts=r.elts.filter(function(w){return w!==e});i&&i!==e;)i instanceof Element&&r.elts.push(i),i=i.nextSibling;cleanUpElement(e),e.remove()}}function swapAfterBegin(e,n,r){return insertNodesBefore(e,e.firstChild,n,r)}function swapBeforeBegin(e,n,r){return insertNodesBefore(parentElt(e),e,n,r)}function swapBeforeEnd(e,n,r){return insertNodesBefore(e,null,n,r)}function swapAfterEnd(e,n,r){return insertNodesBefore(parentElt(e),e.nextSibling,n,r)}function swapDelete(e){cleanUpElement(e);let n=parentElt(e);if(n)return n.removeChild(e)}function swapInnerHTML(e,n,r){let i=e.firstChild;if(insertNodesBefore(e,i,n,r),i){for(;i.nextSibling;)cleanUpElement(i.nextSibling),e.removeChild(i.nextSibling);cleanUpElement(i),e.removeChild(i)}}function swapWithStyle(e,n,r,i,f){switch(e){case"none":return;case"outerHTML":swapOuterHTML(r,i,f);return;case"afterbegin":swapAfterBegin(r,i,f);return;case"beforebegin":swapBeforeBegin(r,i,f);return;case"beforeend":swapBeforeEnd(r,i,f);return;case"afterend":swapAfterEnd(r,i,f);return;case"delete":swapDelete(r);return;default:var x=getExtensions(n);for(let w=0;w<x.length;w++){let H=x[w];try{let F=H.handleSwap(e,r,i,f);if(F){if(Array.isArray(F))for(let B=0;B<F.length;B++){let $=F[B];$.nodeType!==Node.TEXT_NODE&&$.nodeType!==Node.COMMENT_NODE&&f.tasks.push(makeAjaxLoadTask($))}return}}catch(F){logError(F)}}e==="innerHTML"?swapInnerHTML(r,i,f):swapWithStyle(htmx.config.defaultSwapStyle,n,r,i,f)}}function findAndSwapOobElements(e,n,r){var i=findAll(e,"[hx-swap-oob], [data-hx-swap-oob]");return forEach(i,function(f){if(htmx.config.allowNestedOobSwaps||f.parentElement===null){let x=getAttributeValue(f,"hx-swap-oob");x!=null&&oobSwap(x,f,n,r)}else f.removeAttribute("hx-swap-oob"),f.removeAttribute("data-hx-swap-oob")}),i.length>0}function swap(e,n,r,i){i||(i={});let f=null,x=null,w=function(){maybeCall(i.beforeSwapCallback),e=resolveTarget(e);let B=i.contextElement?getRootNode(i.contextElement,!1):getDocument(),$=document.activeElement,X={};X={elt:$,start:$?$.selectionStart:null,end:$?$.selectionEnd:null};let z=makeSettleInfo(e);if(r.swapStyle==="textContent")e.textContent=n;else{let Y=makeFragment(n);if(z.title=i.title||Y.title,i.historyRequest&&(Y=Y.querySelector("[hx-history-elt],[data-hx-history-elt]")||Y),i.selectOOB){let te=i.selectOOB.split(",");for(let ee=0;ee<te.length;ee++){let oe=te[ee].split(":",2),le=oe[0].trim();le.indexOf("#")===0&&(le=le.substring(1));let ae=oe[1]||"true",J=Y.querySelector("#"+le);J&&oobSwap(ae,J,z,B)}}if(findAndSwapOobElements(Y,z,B),forEach(findAll(Y,"template"),function(te){te.content&&findAndSwapOobElements(te.content,z,B)&&te.remove()}),i.select){let te=getDocument().createDocumentFragment();forEach(Y.querySelectorAll(i.select),function(ee){te.appendChild(ee)}),Y=te}handlePreservedElements(Y),swapWithStyle(r.swapStyle,i.contextElement,e,Y,z),restorePreservedElements()}if(X.elt&&!bodyContains(X.elt)&&getRawAttribute(X.elt,"id")){let Y=document.getElementById(getRawAttribute(X.elt,"id")),te={preventScroll:r.focusScroll!==void 0?!r.focusScroll:!htmx.config.defaultFocusScroll};if(Y){if(X.start&&Y.setSelectionRange)try{Y.setSelectionRange(X.start,X.end)}catch{}Y.focus(te)}}e.classList.remove(htmx.config.swappingClass),forEach(z.elts,function(Y){Y.classList&&Y.classList.add(htmx.config.settlingClass),triggerEvent(Y,"htmx:afterSwap",i.eventInfo)}),maybeCall(i.afterSwapCallback),r.ignoreTitle||handleTitle(z.title);let ie=function(){if(forEach(z.tasks,function(Y){Y.call()}),forEach(z.elts,function(Y){Y.classList&&Y.classList.remove(htmx.config.settlingClass),triggerEvent(Y,"htmx:afterSettle",i.eventInfo)}),i.anchor){let Y=asElement(resolveTarget("#"+i.anchor));Y&&Y.scrollIntoView({block:"start",behavior:"auto"})}updateScrollState(z.elts,r),maybeCall(i.afterSettleCallback),maybeCall(f)};r.settleDelay>0?getWindow().setTimeout(ie,r.settleDelay):ie()},H=htmx.config.globalViewTransitions;r.hasOwnProperty("transition")&&(H=r.transition);let F=i.contextElement||getDocument();if(H&&triggerEvent(F,"htmx:beforeTransition",i.eventInfo)&&typeof Promise<"u"&&document.startViewTransition){let B=new Promise(function(X,z){f=X,x=z}),$=w;w=function(){document.startViewTransition(function(){return $(),B})}}try{r?.swapDelay&&r.swapDelay>0?getWindow().setTimeout(w,r.swapDelay):w()}catch(B){throw triggerErrorEvent(F,"htmx:swapError",i.eventInfo),maybeCall(x),B}}function handleTriggerHeader(e,n,r){let i=e.getResponseHeader(n);if(i.indexOf("{")===0){let f=parseJSON(i);for(let x in f)if(f.hasOwnProperty(x)){let w=f[x];isRawObject(w)?r=w.target!==void 0?w.target:r:w={value:w},triggerEvent(r,x,w)}}else{let f=i.split(",");for(let x=0;x<f.length;x++)triggerEvent(r,f[x].trim(),[])}}let WHITESPACE=/\s/,WHITESPACE_OR_COMMA=/[\s,]/,SYMBOL_START=/[_$a-zA-Z]/,SYMBOL_CONT=/[_$a-zA-Z0-9]/,STRINGISH_START=['"',"'","/"],NOT_WHITESPACE=/[^\s]/,COMBINED_SELECTOR_START=/[{(]/,COMBINED_SELECTOR_END=/[})]/;function tokenizeString(e){let n=[],r=0;for(;r<e.length;){if(SYMBOL_START.exec(e.charAt(r))){for(var i=r;SYMBOL_CONT.exec(e.charAt(r+1));)r++;n.push(e.substring(i,r+1))}else if(STRINGISH_START.indexOf(e.charAt(r))!==-1){let f=e.charAt(r);var i=r;for(r++;r<e.length&&e.charAt(r)!==f;)e.charAt(r)==="\\"&&r++,r++;n.push(e.substring(i,r+1))}else{let f=e.charAt(r);n.push(f)}r++}return n}function isPossibleRelativeReference(e,n,r){return SYMBOL_START.exec(e.charAt(0))&&e!=="true"&&e!=="false"&&e!=="this"&&e!==r&&n!=="."}function maybeGenerateConditional(e,n,r){if(n[0]==="["){n.shift();let i=1,f=" return (function("+r+"){ return (",x=null;for(;n.length>0;){let w=n[0];if(w==="]"){if(i--,i===0){x===null&&(f=f+"true"),n.shift(),f+=")})";try{let H=maybeEval(e,function(){return Function(f)()},function(){return!0});return H.source=f,H}catch(H){return triggerErrorEvent(getDocument().body,"htmx:syntax:error",{error:H,source:f}),null}}}else w==="["&&i++;isPossibleRelativeReference(w,x,r)?f+="(("+r+"."+w+") ? ("+r+"."+w+") : (window."+w+"))":f=f+w,x=n.shift()}}}function consumeUntil(e,n){let r="";for(;e.length>0&&!n.test(e[0]);)r+=e.shift();return r}function consumeCSSSelector(e){let n;return e.length>0&&COMBINED_SELECTOR_START.test(e[0])?(e.shift(),n=consumeUntil(e,COMBINED_SELECTOR_END).trim(),e.shift()):n=consumeUntil(e,WHITESPACE_OR_COMMA),n}let INPUT_SELECTOR="input, textarea, select";function parseAndCacheTrigger(e,n,r){let i=[],f=tokenizeString(n);do{consumeUntil(f,NOT_WHITESPACE);let H=f.length,F=consumeUntil(f,/[,\[\s]/);if(F!=="")if(F==="every"){let B={trigger:"every"};consumeUntil(f,NOT_WHITESPACE),B.pollInterval=parseInterval(consumeUntil(f,/[,\[\s]/)),consumeUntil(f,NOT_WHITESPACE);var x=maybeGenerateConditional(e,f,"event");x&&(B.eventFilter=x),i.push(B)}else{let B={trigger:F};var x=maybeGenerateConditional(e,f,"event");for(x&&(B.eventFilter=x),consumeUntil(f,NOT_WHITESPACE);f.length>0&&f[0]!==",";){let X=f.shift();if(X==="changed")B.changed=!0;else if(X==="once")B.once=!0;else if(X==="consume")B.consume=!0;else if(X==="delay"&&f[0]===":")f.shift(),B.delay=parseInterval(consumeUntil(f,WHITESPACE_OR_COMMA));else if(X==="from"&&f[0]===":"){if(f.shift(),COMBINED_SELECTOR_START.test(f[0]))var w=consumeCSSSelector(f);else{var w=consumeUntil(f,WHITESPACE_OR_COMMA);if(w==="closest"||w==="find"||w==="next"||w==="previous"){f.shift();let ie=consumeCSSSelector(f);ie.length>0&&(w+=" "+ie)}}B.from=w}else X==="target"&&f[0]===":"?(f.shift(),B.target=consumeCSSSelector(f)):X==="throttle"&&f[0]===":"?(f.shift(),B.throttle=parseInterval(consumeUntil(f,WHITESPACE_OR_COMMA))):X==="queue"&&f[0]===":"?(f.shift(),B.queue=consumeUntil(f,WHITESPACE_OR_COMMA)):X==="root"&&f[0]===":"?(f.shift(),B[X]=consumeCSSSelector(f)):X==="threshold"&&f[0]===":"?(f.shift(),B[X]=consumeUntil(f,WHITESPACE_OR_COMMA)):triggerErrorEvent(e,"htmx:syntax:error",{token:f.shift()});consumeUntil(f,NOT_WHITESPACE)}i.push(B)}f.length===H&&triggerErrorEvent(e,"htmx:syntax:error",{token:f.shift()}),consumeUntil(f,NOT_WHITESPACE)}while(f[0]===","&&f.shift());return r&&(r[n]=i),i}function getTriggerSpecs(e){let n=getAttributeValue(e,"hx-trigger"),r=[];if(n){let i=htmx.config.triggerSpecsCache;r=i&&i[n]||parseAndCacheTrigger(e,n,i)}return r.length>0?r:matches(e,"form")?[{trigger:"submit"}]:matches(e,'input[type="button"], input[type="submit"]')?[{trigger:"click"}]:matches(e,INPUT_SELECTOR)?[{trigger:"change"}]:[{trigger:"click"}]}function cancelPolling(e){getInternalData(e).cancelled=!0}function processPolling(e,n,r){let i=getInternalData(e);i.timeout=getWindow().setTimeout(function(){bodyContains(e)&&i.cancelled!==!0&&(maybeFilterEvent(r,e,makeEvent("hx:poll:trigger",{triggerSpec:r,target:e}))||n(e),processPolling(e,n,r))},r.pollInterval)}function isLocalLink(e){return location.hostname===e.hostname&&getRawAttribute(e,"href")&&getRawAttribute(e,"href").indexOf("#")!==0}function eltIsDisabled(e){return closest(e,htmx.config.disableSelector)}function boostElement(e,n,r){if(e instanceof HTMLAnchorElement&&isLocalLink(e)&&(e.target===""||e.target==="_self")||e.tagName==="FORM"&&String(getRawAttribute(e,"method")).toLowerCase()!=="dialog"){n.boosted=!0;let i,f;if(e.tagName==="A")i="get",f=getRawAttribute(e,"href");else{let x=getRawAttribute(e,"method");i=x?x.toLowerCase():"get",f=getRawAttribute(e,"action"),(f==null||f==="")&&(f=location.href),i==="get"&&f.includes("?")&&(f=f.replace(/\?[^#]+/,""))}r.forEach(function(x){addEventListener(e,function(w,H){let F=asElement(w);if(eltIsDisabled(F)){cleanUpElement(F);return}issueAjaxRequest(i,f,F,H)},n,x,!0)})}}function shouldCancel(e,n){if(e.type==="submit"&&n.tagName==="FORM")return!0;if(e.type==="click"){let r=n.closest('input[type="submit"], button');if(r&&r.form&&r.type==="submit")return!0;let i=n.closest("a"),f=/^#.+/;if(i&&i.href&&!f.test(i.getAttribute("href")))return!0}return!1}function ignoreBoostedAnchorCtrlClick(e,n){return getInternalData(e).boosted&&e instanceof HTMLAnchorElement&&n.type==="click"&&(n.ctrlKey||n.metaKey)}function maybeFilterEvent(e,n,r){let i=e.eventFilter;if(i)try{return i.call(n,r)!==!0}catch(f){let x=i.source;return triggerErrorEvent(getDocument().body,"htmx:eventFilter:error",{error:f,source:x}),!0}return!1}function addEventListener(e,n,r,i,f){let x=getInternalData(e),w;i.from?w=querySelectorAllExt(e,i.from):w=[e],i.changed&&("lastValue"in x||(x.lastValue=new WeakMap),w.forEach(function(H){x.lastValue.has(i)||x.lastValue.set(i,new WeakMap),x.lastValue.get(i).set(H,H.value)})),forEach(w,function(H){let F=function(B){if(!bodyContains(e)){H.removeEventListener(i.trigger,F);return}if(ignoreBoostedAnchorCtrlClick(e,B)||((f||shouldCancel(B,H))&&B.preventDefault(),maybeFilterEvent(i,e,B)))return;let $=getInternalData(B);if($.triggerSpec=i,$.handledFor==null&&($.handledFor=[]),$.handledFor.indexOf(e)<0){if($.handledFor.push(e),i.consume&&B.stopPropagation(),i.target&&B.target&&!matches(asElement(B.target),i.target))return;if(i.once){if(x.triggeredOnce)return;x.triggeredOnce=!0}if(i.changed){let X=B.target,z=X.value,ie=x.lastValue.get(i);if(ie.has(X)&&ie.get(X)===z)return;ie.set(X,z)}if(x.delayed&&clearTimeout(x.delayed),x.throttle)return;i.throttle>0?x.throttle||(triggerEvent(e,"htmx:trigger"),n(e,B),x.throttle=getWindow().setTimeout(function(){x.throttle=null},i.throttle)):i.delay>0?x.delayed=getWindow().setTimeout(function(){triggerEvent(e,"htmx:trigger"),n(e,B)},i.delay):(triggerEvent(e,"htmx:trigger"),n(e,B))}};r.listenerInfos==null&&(r.listenerInfos=[]),r.listenerInfos.push({trigger:i.trigger,listener:F,on:H}),H.addEventListener(i.trigger,F)})}let windowIsScrolling=!1,scrollHandler=null;function initScrollHandler(){scrollHandler||(scrollHandler=function(){windowIsScrolling=!0},window.addEventListener("scroll",scrollHandler),window.addEventListener("resize",scrollHandler),setInterval(function(){windowIsScrolling&&(windowIsScrolling=!1,forEach(getDocument().querySelectorAll("[hx-trigger*='revealed'],[data-hx-trigger*='revealed']"),function(e){maybeReveal(e)}))},200))}function maybeReveal(e){!hasAttribute(e,"data-hx-revealed")&&isScrolledIntoView(e)&&(e.setAttribute("data-hx-revealed","true"),getInternalData(e).initHash?triggerEvent(e,"revealed"):e.addEventListener("htmx:afterProcessNode",function(){triggerEvent(e,"revealed")},{once:!0}))}function loadImmediately(e,n,r,i){let f=function(){r.loaded||(r.loaded=!0,triggerEvent(e,"htmx:trigger"),n(e))};i>0?getWindow().setTimeout(f,i):f()}function processVerbs(e,n,r){let i=!1;return forEach(VERBS,function(f){if(hasAttribute(e,"hx-"+f)){let x=getAttributeValue(e,"hx-"+f);i=!0,n.path=x,n.verb=f,r.forEach(function(w){addTriggerHandler(e,w,n,function(H,F){let B=asElement(H);if(eltIsDisabled(B)){cleanUpElement(B);return}issueAjaxRequest(f,x,B,F)})})}}),i}function addTriggerHandler(e,n,r,i){if(n.trigger==="revealed")initScrollHandler(),addEventListener(e,i,r,n),maybeReveal(asElement(e));else if(n.trigger==="intersect"){let f={};n.root&&(f.root=querySelectorExt(e,n.root)),n.threshold&&(f.threshold=parseFloat(n.threshold)),new IntersectionObserver(function(w){for(let H=0;H<w.length;H++)if(w[H].isIntersecting){triggerEvent(e,"intersect");break}},f).observe(asElement(e)),addEventListener(asElement(e),i,r,n)}else!r.firstInitCompleted&&n.trigger==="load"?maybeFilterEvent(n,e,makeEvent("load",{elt:e}))||loadImmediately(asElement(e),i,r,n.delay):n.pollInterval>0?(r.polling=!0,processPolling(asElement(e),i,n)):addEventListener(e,i,r,n)}function shouldProcessHxOn(e){let n=asElement(e);if(!n)return!1;let r=n.attributes;for(let i=0;i<r.length;i++){let f=r[i].name;if(startsWith(f,"hx-on:")||startsWith(f,"data-hx-on:")||startsWith(f,"hx-on-")||startsWith(f,"data-hx-on-"))return!0}return!1}let HX_ON_QUERY=new XPathEvaluator().createExpression('.//*[@*[ starts-with(name(), "hx-on:") or starts-with(name(), "data-hx-on:") or starts-with(name(), "hx-on-") or starts-with(name(), "data-hx-on-") ]]');function processHXOnRoot(e,n){shouldProcessHxOn(e)&&n.push(asElement(e));let r=HX_ON_QUERY.evaluate(e),i=null;for(;i=r.iterateNext();)n.push(asElement(i))}function findHxOnWildcardElements(e){let n=[];if(e instanceof DocumentFragment)for(let r of e.childNodes)processHXOnRoot(r,n);else processHXOnRoot(e,n);return n}function findElementsToProcess(e){if(e.querySelectorAll){let r=", [hx-boost] a, [data-hx-boost] a, a[hx-boost], a[data-hx-boost]",i=[];for(let x in extensions){let w=extensions[x];if(w.getSelectors){var n=w.getSelectors();n&&i.push(n)}}return e.querySelectorAll(VERB_SELECTOR+r+", form, [type='submit'], [hx-ext], [data-hx-ext], [hx-trigger], [data-hx-trigger]"+i.flat().map(x=>", "+x).join(""))}else return[]}function maybeSetLastButtonClicked(e){let n=getTargetButton(e.target),r=getRelatedFormData(e);r&&(r.lastButtonClicked=n)}function maybeUnsetLastButtonClicked(e){let n=getRelatedFormData(e);n&&(n.lastButtonClicked=null)}function getTargetButton(e){return closest(asElement(e),"button, input[type='submit']")}function getRelatedForm(e){return e.form||closest(e,"form")}function getRelatedFormData(e){let n=getTargetButton(e.target);if(!n)return;let r=getRelatedForm(n);if(r)return getInternalData(r)}function initButtonTracking(e){e.addEventListener("click",maybeSetLastButtonClicked),e.addEventListener("focusin",maybeSetLastButtonClicked),e.addEventListener("focusout",maybeUnsetLastButtonClicked)}function addHxOnEventHandler(e,n,r){let i=getInternalData(e);Array.isArray(i.onHandlers)||(i.onHandlers=[]);let f,x=function(w){maybeEval(e,function(){eltIsDisabled(e)||(f||(f=new Function("event",r)),f.call(e,w))})};e.addEventListener(n,x),i.onHandlers.push({event:n,listener:x})}function processHxOnWildcard(e){deInitOnHandlers(e);for(let n=0;n<e.attributes.length;n++){let r=e.attributes[n].name,i=e.attributes[n].value;if(startsWith(r,"hx-on")||startsWith(r,"data-hx-on")){let f=r.indexOf("-on")+3,x=r.slice(f,f+1);if(x==="-"||x===":"){let w=r.slice(f+1);startsWith(w,":")?w="htmx"+w:startsWith(w,"-")?w="htmx:"+w.slice(1):startsWith(w,"htmx-")&&(w="htmx:"+w.slice(5)),addHxOnEventHandler(e,w,i)}}}}function initNode(e){triggerEvent(e,"htmx:beforeProcessNode");let n=getInternalData(e),r=getTriggerSpecs(e);processVerbs(e,n,r)||(getClosestAttributeValue(e,"hx-boost")==="true"?boostElement(e,n,r):hasAttribute(e,"hx-trigger")&&r.forEach(function(f){addTriggerHandler(e,f,n,function(){})})),(e.tagName==="FORM"||getRawAttribute(e,"type")==="submit"&&hasAttribute(e,"form"))&&initButtonTracking(e),n.firstInitCompleted=!0,triggerEvent(e,"htmx:afterProcessNode")}function maybeDeInitAndHash(e){if(!(e instanceof Element))return!1;let n=getInternalData(e),r=attributeHash(e);return n.initHash!==r?(deInitNode(e),n.initHash=r,!0):!1}function processNode(e){if(e=resolveTarget(e),eltIsDisabled(e)){cleanUpElement(e);return}let n=[];maybeDeInitAndHash(e)&&n.push(e),forEach(findElementsToProcess(e),function(r){if(eltIsDisabled(r)){cleanUpElement(r);return}maybeDeInitAndHash(r)&&n.push(r)}),forEach(findHxOnWildcardElements(e),processHxOnWildcard),forEach(n,initNode)}function kebabEventName(e){return e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}function makeEvent(e,n){return new CustomEvent(e,{bubbles:!0,cancelable:!0,composed:!0,detail:n})}function triggerErrorEvent(e,n,r){triggerEvent(e,n,mergeObjects({error:n},r))}function ignoreEventForLogging(e){return e==="htmx:afterProcessNode"}function withExtensions(e,n,r){forEach(getExtensions(e,[],r),function(i){try{n(i)}catch(f){logError(f)}})}function logError(e){console.error(e)}function triggerEvent(e,n,r){e=resolveTarget(e),r==null&&(r={}),r.elt=e;let i=makeEvent(n,r);htmx.logger&&!ignoreEventForLogging(n)&&htmx.logger(e,n,r),r.error&&(logError(r.error),triggerEvent(e,"htmx:error",{errorInfo:r}));let f=e.dispatchEvent(i),x=kebabEventName(n);if(f&&x!==n){let w=makeEvent(x,i.detail);f=f&&e.dispatchEvent(w)}return withExtensions(asElement(e),function(w){f=f&&w.onEvent(n,i)!==!1&&!i.defaultPrevented}),f}let currentPathForHistory;function setCurrentPathForHistory(e){currentPathForHistory=e,canAccessLocalStorage()&&sessionStorage.setItem("htmx-current-path-for-history",e)}setCurrentPathForHistory(location.pathname+location.search);function getHistoryElement(){return getDocument().querySelector("[hx-history-elt],[data-hx-history-elt]")||getDocument().body}function saveToHistoryCache(e,n){if(!canAccessLocalStorage())return;let r=cleanInnerHtmlForHistory(n),i=getDocument().title,f=window.scrollY;if(htmx.config.historyCacheSize<=0){sessionStorage.removeItem("htmx-history-cache");return}e=normalizePath(e);let x=parseJSON(sessionStorage.getItem("htmx-history-cache"))||[];for(let H=0;H<x.length;H++)if(x[H].url===e){x.splice(H,1);break}let w={url:e,content:r,title:i,scroll:f};for(triggerEvent(getDocument().body,"htmx:historyItemCreated",{item:w,cache:x}),x.push(w);x.length>htmx.config.historyCacheSize;)x.shift();for(;x.length>0;)try{sessionStorage.setItem("htmx-history-cache",JSON.stringify(x));break}catch(H){triggerErrorEvent(getDocument().body,"htmx:historyCacheError",{cause:H,cache:x}),x.shift()}}function getCachedHistory(e){if(!canAccessLocalStorage())return null;e=normalizePath(e);let n=parseJSON(sessionStorage.getItem("htmx-history-cache"))||[];for(let r=0;r<n.length;r++)if(n[r].url===e)return n[r];return null}function cleanInnerHtmlForHistory(e){let n=htmx.config.requestClass,r=e.cloneNode(!0);return forEach(findAll(r,"."+n),function(i){removeClassFromElement(i,n)}),forEach(findAll(r,"[data-disabled-by-htmx]"),function(i){i.removeAttribute("disabled")}),r.innerHTML}function saveCurrentPageToHistory(){let e=getHistoryElement(),n=currentPathForHistory;canAccessLocalStorage()&&(n=sessionStorage.getItem("htmx-current-path-for-history")),n=n||location.pathname+location.search,getDocument().querySelector('[hx-history="false" i],[data-hx-history="false" i]')||(triggerEvent(getDocument().body,"htmx:beforeHistorySave",{path:n,historyElt:e}),saveToHistoryCache(n,e)),htmx.config.historyEnabled&&history.replaceState({htmx:!0},getDocument().title,location.href)}function pushUrlIntoHistory(e){htmx.config.getCacheBusterParam&&(e=e.replace(/org\.htmx\.cache-buster=[^&]*&?/,""),(endsWith(e,"&")||endsWith(e,"?"))&&(e=e.slice(0,-1))),htmx.config.historyEnabled&&history.pushState({htmx:!0},"",e),setCurrentPathForHistory(e)}function replaceUrlInHistory(e){htmx.config.historyEnabled&&history.replaceState({htmx:!0},"",e),setCurrentPathForHistory(e)}function settleImmediately(e){forEach(e,function(n){n.call(void 0)})}function loadHistoryFromServer(e){let n=new XMLHttpRequest,r={swapStyle:"innerHTML",swapDelay:0,settleDelay:0},i={path:e,xhr:n,historyElt:getHistoryElement(),swapSpec:r};n.open("GET",e,!0),htmx.config.historyRestoreAsHxRequest&&n.setRequestHeader("HX-Request","true"),n.setRequestHeader("HX-History-Restore-Request","true"),n.setRequestHeader("HX-Current-URL",location.href),n.onload=function(){this.status>=200&&this.status<400?(i.response=this.response,triggerEvent(getDocument().body,"htmx:historyCacheMissLoad",i),swap(i.historyElt,i.response,r,{contextElement:i.historyElt,historyRequest:!0}),setCurrentPathForHistory(i.path),triggerEvent(getDocument().body,"htmx:historyRestore",{path:e,cacheMiss:!0,serverResponse:i.response})):triggerErrorEvent(getDocument().body,"htmx:historyCacheMissLoadError",i)},triggerEvent(getDocument().body,"htmx:historyCacheMiss",i)&&n.send()}function restoreHistory(e){saveCurrentPageToHistory(),e=e||location.pathname+location.search;let n=getCachedHistory(e);if(n){let r={swapStyle:"innerHTML",swapDelay:0,settleDelay:0,scroll:n.scroll},i={path:e,item:n,historyElt:getHistoryElement(),swapSpec:r};triggerEvent(getDocument().body,"htmx:historyCacheHit",i)&&(swap(i.historyElt,n.content,r,{contextElement:i.historyElt,title:n.title}),setCurrentPathForHistory(i.path),triggerEvent(getDocument().body,"htmx:historyRestore",i))}else htmx.config.refreshOnHistoryMiss?htmx.location.reload(!0):loadHistoryFromServer(e)}function addRequestIndicatorClasses(e){let n=findAttributeTargets(e,"hx-indicator");return n==null&&(n=[e]),forEach(n,function(r){let i=getInternalData(r);i.requestCount=(i.requestCount||0)+1,r.classList.add.call(r.classList,htmx.config.requestClass)}),n}function disableElements(e){let n=findAttributeTargets(e,"hx-disabled-elt");return n==null&&(n=[]),forEach(n,function(r){let i=getInternalData(r);i.requestCount=(i.requestCount||0)+1,r.setAttribute("disabled",""),r.setAttribute("data-disabled-by-htmx","")}),n}function removeRequestIndicators(e,n){forEach(e.concat(n),function(r){let i=getInternalData(r);i.requestCount=(i.requestCount||1)-1}),forEach(e,function(r){getInternalData(r).requestCount===0&&r.classList.remove.call(r.classList,htmx.config.requestClass)}),forEach(n,function(r){getInternalData(r).requestCount===0&&(r.removeAttribute("disabled"),r.removeAttribute("data-disabled-by-htmx"))})}function haveSeenNode(e,n){for(let r=0;r<e.length;r++)if(e[r].isSameNode(n))return!0;return!1}function shouldInclude(e){let n=e;return n.name===""||n.name==null||n.disabled||closest(n,"fieldset[disabled]")||n.type==="button"||n.type==="submit"||n.tagName==="image"||n.tagName==="reset"||n.tagName==="file"?!1:n.type==="checkbox"||n.type==="radio"?n.checked:!0}function addValueToFormData(e,n,r){e!=null&&n!=null&&(Array.isArray(n)?n.forEach(function(i){r.append(e,i)}):r.append(e,n))}function removeValueFromFormData(e,n,r){if(e!=null&&n!=null){let i=r.getAll(e);Array.isArray(n)?i=i.filter(f=>n.indexOf(f)<0):i=i.filter(f=>f!==n),r.delete(e),forEach(i,f=>r.append(e,f))}}function getValueFromInput(e){return e instanceof HTMLSelectElement&&e.multiple?toArray(e.querySelectorAll("option:checked")).map(function(n){return n.value}):e instanceof HTMLInputElement&&e.files?toArray(e.files):e.value}function processInputValue(e,n,r,i,f){if(!(i==null||haveSeenNode(e,i))){if(e.push(i),shouldInclude(i)){let x=getRawAttribute(i,"name");addValueToFormData(x,getValueFromInput(i),n),f&&validateElement(i,r)}i instanceof HTMLFormElement&&(forEach(i.elements,function(x){e.indexOf(x)>=0?removeValueFromFormData(x.name,getValueFromInput(x),n):e.push(x),f&&validateElement(x,r)}),new FormData(i).forEach(function(x,w){x instanceof File&&x.name===""||addValueToFormData(w,x,n)}))}}function validateElement(e,n){let r=e;r.willValidate&&(triggerEvent(r,"htmx:validation:validate"),r.checkValidity()||(triggerEvent(r,"htmx:validation:failed",{message:r.validationMessage,validity:r.validity})&&!n.length&&htmx.config.reportValidityOfForms&&r.reportValidity(),n.push({elt:r,message:r.validationMessage,validity:r.validity})))}function overrideFormData(e,n){for(let r of n.keys())e.delete(r);return n.forEach(function(r,i){e.append(i,r)}),e}function getInputValues(e,n){let r=[],i=new FormData,f=new FormData,x=[],w=getInternalData(e);w.lastButtonClicked&&!bodyContains(w.lastButtonClicked)&&(w.lastButtonClicked=null);let H=e instanceof HTMLFormElement&&e.noValidate!==!0||getAttributeValue(e,"hx-validate")==="true";if(w.lastButtonClicked&&(H=H&&w.lastButtonClicked.formNoValidate!==!0),n!=="get"&&processInputValue(r,f,x,getRelatedForm(e),H),processInputValue(r,i,x,e,H),w.lastButtonClicked||e.tagName==="BUTTON"||e.tagName==="INPUT"&&getRawAttribute(e,"type")==="submit"){let B=w.lastButtonClicked||e,$=getRawAttribute(B,"name");addValueToFormData($,B.value,f)}let F=findAttributeTargets(e,"hx-include");return forEach(F,function(B){processInputValue(r,i,x,asElement(B),H),matches(B,"form")||forEach(asParentNode(B).querySelectorAll(INPUT_SELECTOR),function($){processInputValue(r,i,x,$,H)})}),overrideFormData(i,f),{errors:x,formData:i,values:formDataProxy(i)}}function appendParam(e,n,r){e!==""&&(e+="&"),String(r)==="[object Object]"&&(r=JSON.stringify(r));let i=encodeURIComponent(r);return e+=encodeURIComponent(n)+"="+i,e}function urlEncode(e){e=formDataFromObject(e);let n="";return e.forEach(function(r,i){n=appendParam(n,i,r)}),n}function getHeaders(e,n,r){let i={"HX-Request":"true","HX-Trigger":getRawAttribute(e,"id"),"HX-Trigger-Name":getRawAttribute(e,"name"),"HX-Target":getAttributeValue(n,"id"),"HX-Current-URL":location.href};return getValuesForElement(e,"hx-headers",!1,i),r!==void 0&&(i["HX-Prompt"]=r),getInternalData(e).boosted&&(i["HX-Boosted"]="true"),i}function filterValues(e,n){let r=getClosestAttributeValue(n,"hx-params");if(r){if(r==="none")return new FormData;if(r==="*")return e;if(r.indexOf("not ")===0)return forEach(r.slice(4).split(","),function(i){i=i.trim(),e.delete(i)}),e;{let i=new FormData;return forEach(r.split(","),function(f){f=f.trim(),e.has(f)&&e.getAll(f).forEach(function(x){i.append(f,x)})}),i}}else return e}function isAnchorLink(e){return!!getRawAttribute(e,"href")&&getRawAttribute(e,"href").indexOf("#")>=0}function getSwapSpecification(e,n){let r=n||getClosestAttributeValue(e,"hx-swap"),i={swapStyle:getInternalData(e).boosted?"innerHTML":htmx.config.defaultSwapStyle,swapDelay:htmx.config.defaultSwapDelay,settleDelay:htmx.config.defaultSettleDelay};if(htmx.config.scrollIntoViewOnBoost&&getInternalData(e).boosted&&!isAnchorLink(e)&&(i.show="top"),r){let w=splitOnWhitespace(r);if(w.length>0)for(let H=0;H<w.length;H++){let F=w[H];if(F.indexOf("swap:")===0)i.swapDelay=parseInterval(F.slice(5));else if(F.indexOf("settle:")===0)i.settleDelay=parseInterval(F.slice(7));else if(F.indexOf("transition:")===0)i.transition=F.slice(11)==="true";else if(F.indexOf("ignoreTitle:")===0)i.ignoreTitle=F.slice(12)==="true";else if(F.indexOf("scroll:")===0){var f=F.slice(7).split(":");let $=f.pop();var x=f.length>0?f.join(":"):null;i.scroll=$,i.scrollTarget=x}else if(F.indexOf("show:")===0){var f=F.slice(5).split(":");let X=f.pop();var x=f.length>0?f.join(":"):null;i.show=X,i.showTarget=x}else if(F.indexOf("focus-scroll:")===0){let B=F.slice(13);i.focusScroll=B=="true"}else H==0?i.swapStyle=F:logError("Unknown modifier in hx-swap: "+F)}}return i}function usesFormData(e){return getClosestAttributeValue(e,"hx-encoding")==="multipart/form-data"||matches(e,"form")&&getRawAttribute(e,"enctype")==="multipart/form-data"}function encodeParamsForBody(e,n,r){let i=null;return withExtensions(n,function(f){i==null&&(i=f.encodeParameters(e,r,n))}),i??(usesFormData(n)?overrideFormData(new FormData,formDataFromObject(r)):urlEncode(r))}function makeSettleInfo(e){return{tasks:[],elts:[e]}}function updateScrollState(e,n){let r=e[0],i=e[e.length-1];if(n.scroll){var f=null;n.scrollTarget&&(f=asElement(querySelectorExt(r,n.scrollTarget))),n.scroll==="top"&&(r||f)&&(f=f||r,f.scrollTop=0),n.scroll==="bottom"&&(i||f)&&(f=f||i,f.scrollTop=f.scrollHeight),typeof n.scroll=="number"&&getWindow().setTimeout(function(){window.scrollTo(0,n.scroll)},0)}if(n.show){var f=null;if(n.showTarget){let w=n.showTarget;n.showTarget==="window"&&(w="body"),f=asElement(querySelectorExt(r,w))}n.show==="top"&&(r||f)&&(f=f||r,f.scrollIntoView({block:"start",behavior:htmx.config.scrollBehavior})),n.show==="bottom"&&(i||f)&&(f=f||i,f.scrollIntoView({block:"end",behavior:htmx.config.scrollBehavior}))}}function getValuesForElement(e,n,r,i,f){if(i==null&&(i={}),e==null)return i;let x=getAttributeValue(e,n);if(x){let w=x.trim(),H=r;if(w==="unset")return null;w.indexOf("javascript:")===0?(w=w.slice(11),H=!0):w.indexOf("js:")===0&&(w=w.slice(3),H=!0),w.indexOf("{")!==0&&(w="{"+w+"}");let F;H?F=maybeEval(e,function(){return f?Function("event","return ("+w+")").call(e,f):Function("return ("+w+")").call(e)},{}):F=parseJSON(w);for(let B in F)F.hasOwnProperty(B)&&i[B]==null&&(i[B]=F[B])}return getValuesForElement(asElement(parentElt(e)),n,r,i,f)}function maybeEval(e,n,r){return htmx.config.allowEval?n():(triggerErrorEvent(e,"htmx:evalDisallowedError"),r)}function getHXVarsForElement(e,n,r){return getValuesForElement(e,"hx-vars",!0,r,n)}function getHXValsForElement(e,n,r){return getValuesForElement(e,"hx-vals",!1,r,n)}function getExpressionVars(e,n){return mergeObjects(getHXVarsForElement(e,n),getHXValsForElement(e,n))}function safelySetHeaderValue(e,n,r){if(r!==null)try{e.setRequestHeader(n,r)}catch{e.setRequestHeader(n,encodeURIComponent(r)),e.setRequestHeader(n+"-URI-AutoEncoded","true")}}function getPathFromResponse(e){if(e.responseURL)try{let n=new URL(e.responseURL);return n.pathname+n.search}catch{triggerErrorEvent(getDocument().body,"htmx:badResponseUrl",{url:e.responseURL})}}function hasHeader(e,n){return n.test(e.getAllResponseHeaders())}function ajaxHelper(e,n,r){if(e=e.toLowerCase(),r){if(r instanceof Element||typeof r=="string")return issueAjaxRequest(e,n,null,null,{targetOverride:resolveTarget(r)||DUMMY_ELT,returnPromise:!0});{let i=resolveTarget(r.target);return(r.target&&!i||r.source&&!i&&!resolveTarget(r.source))&&(i=DUMMY_ELT),issueAjaxRequest(e,n,resolveTarget(r.source),r.event,{handler:r.handler,headers:r.headers,values:r.values,targetOverride:i,swapOverride:r.swap,select:r.select,returnPromise:!0,push:r.push,replace:r.replace,selectOOB:r.selectOOB})}}else return issueAjaxRequest(e,n,null,null,{returnPromise:!0})}function hierarchyForElt(e){let n=[];for(;e;)n.push(e),e=e.parentElement;return n}function verifyPath(e,n,r){let i=new URL(n,location.protocol!=="about:"?location.href:window.origin),x=(location.protocol!=="about:"?location.origin:window.origin)===i.origin;return htmx.config.selfRequestsOnly&&!x?!1:triggerEvent(e,"htmx:validateUrl",mergeObjects({url:i,sameHost:x},r))}function formDataFromObject(e){if(e instanceof FormData)return e;let n=new FormData;for(let r in e)e.hasOwnProperty(r)&&(e[r]&&typeof e[r].forEach=="function"?e[r].forEach(function(i){n.append(r,i)}):typeof e[r]=="object"&&!(e[r]instanceof Blob)?n.append(r,JSON.stringify(e[r])):n.append(r,e[r]));return n}function formDataArrayProxy(e,n,r){return new Proxy(r,{get:function(i,f){return typeof f=="number"?i[f]:f==="length"?i.length:f==="push"?function(x){i.push(x),e.append(n,x)}:typeof i[f]=="function"?function(){i[f].apply(i,arguments),e.delete(n),i.forEach(function(x){e.append(n,x)})}:i[f]&&i[f].length===1?i[f][0]:i[f]},set:function(i,f,x){return i[f]=x,e.delete(n),i.forEach(function(w){e.append(n,w)}),!0}})}function formDataProxy(e){return new Proxy(e,{get:function(n,r){if(typeof r=="symbol"){let f=Reflect.get(n,r);return typeof f=="function"?function(){return f.apply(e,arguments)}:f}if(r==="toJSON")return()=>Object.fromEntries(e);if(r in n&&typeof n[r]=="function")return function(){return e[r].apply(e,arguments)};let i=e.getAll(r);if(i.length!==0)return i.length===1?i[0]:formDataArrayProxy(n,r,i)},set:function(n,r,i){return typeof r!="string"?!1:(n.delete(r),i&&typeof i.forEach=="function"?i.forEach(function(f){n.append(r,f)}):typeof i=="object"&&!(i instanceof Blob)?n.append(r,JSON.stringify(i)):n.append(r,i),!0)},deleteProperty:function(n,r){return typeof r=="string"&&n.delete(r),!0},ownKeys:function(n){return Reflect.ownKeys(Object.fromEntries(n))},getOwnPropertyDescriptor:function(n,r){return Reflect.getOwnPropertyDescriptor(Object.fromEntries(n),r)}})}function issueAjaxRequest(e,n,r,i,f,x){let w=null,H=null;if(f=f??{},f.returnPromise&&typeof Promise<"u")var F=new Promise(function(M,j){w=M,H=j});r==null&&(r=getDocument().body);let B=f.handler||handleAjaxResponse,$=f.select||null;if(!bodyContains(r))return maybeCall(w),F;let X=f.targetOverride||asElement(getTarget(r));if(X==null||X==DUMMY_ELT)return triggerErrorEvent(r,"htmx:targetError",{target:getClosestAttributeValue(r,"hx-target")}),maybeCall(H),F;let z=getInternalData(r),ie=z.lastButtonClicked;if(ie){let M=getRawAttribute(ie,"formaction");M!=null&&(n=M);let j=getRawAttribute(ie,"formmethod");if(j!=null)if(VERBS.includes(j.toLowerCase()))e=j;else return maybeCall(w),F}let Y=getClosestAttributeValue(r,"hx-confirm");if(x===void 0&&triggerEvent(r,"htmx:confirm",{target:X,elt:r,path:n,verb:e,triggeringEvent:i,etc:f,issueRequest:function(_){return issueAjaxRequest(e,n,r,i,f,!!_)},question:Y})===!1)return maybeCall(w),F;let te=r,ee=getClosestAttributeValue(r,"hx-sync"),oe=null,le=!1;if(ee){let M=ee.split(":"),j=M[0].trim();if(j==="this"?te=findThisElement(r,"hx-sync"):te=asElement(querySelectorExt(r,j)),ee=(M[1]||"drop").trim(),z=getInternalData(te),ee==="drop"&&z.xhr&&z.abortable!==!0)return maybeCall(w),F;if(ee==="abort"){if(z.xhr)return maybeCall(w),F;le=!0}else ee==="replace"?triggerEvent(te,"htmx:abort"):ee.indexOf("queue")===0&&(oe=(ee.split(" ")[1]||"last").trim())}if(z.xhr)if(z.abortable)triggerEvent(te,"htmx:abort");else{if(oe==null){if(i){let M=getInternalData(i);M&&M.triggerSpec&&M.triggerSpec.queue&&(oe=M.triggerSpec.queue)}oe==null&&(oe="last")}return z.queuedRequests==null&&(z.queuedRequests=[]),oe==="first"&&z.queuedRequests.length===0?z.queuedRequests.push(function(){issueAjaxRequest(e,n,r,i,f)}):oe==="all"?z.queuedRequests.push(function(){issueAjaxRequest(e,n,r,i,f)}):oe==="last"&&(z.queuedRequests=[],z.queuedRequests.push(function(){issueAjaxRequest(e,n,r,i,f)})),maybeCall(w),F}let ae=new XMLHttpRequest;z.xhr=ae,z.abortable=le;let J=function(){z.xhr=null,z.abortable=!1,z.queuedRequests!=null&&z.queuedRequests.length>0&&z.queuedRequests.shift()()},Ie=getClosestAttributeValue(r,"hx-prompt");if(Ie){var fe=prompt(Ie);if(fe===null||!triggerEvent(r,"htmx:prompt",{prompt:fe,target:X}))return maybeCall(w),J(),F}if(Y&&!x&&!confirm(Y))return maybeCall(w),J(),F;let ye=getHeaders(r,X,fe);e!=="get"&&!usesFormData(r)&&(ye["Content-Type"]="application/x-www-form-urlencoded"),f.headers&&(ye=mergeObjects(ye,f.headers));let qe=getInputValues(r,e),Te=qe.errors,S=qe.formData;f.values&&overrideFormData(S,formDataFromObject(f.values));let a=formDataFromObject(getExpressionVars(r,i)),u=overrideFormData(S,a),v=filterValues(u,r);htmx.config.getCacheBusterParam&&e==="get"&&v.set("org.htmx.cache-buster",getRawAttribute(X,"id")||"true"),(n==null||n==="")&&(n=location.href);let g=getValuesForElement(r,"hx-request"),A=getInternalData(r).boosted,y=htmx.config.methodsThatUseUrlParams.indexOf(e)>=0,T={boosted:A,useUrlParams:y,formData:v,parameters:formDataProxy(v),unfilteredFormData:u,unfilteredParameters:formDataProxy(u),headers:ye,elt:r,target:X,verb:e,errors:Te,withCredentials:f.credentials||g.credentials||htmx.config.withCredentials,timeout:f.timeout||g.timeout||htmx.config.timeout,path:n,triggeringEvent:i};if(!triggerEvent(r,"htmx:configRequest",T))return maybeCall(w),J(),F;if(n=T.path,e=T.verb,ye=T.headers,v=formDataFromObject(T.parameters),Te=T.errors,y=T.useUrlParams,Te&&Te.length>0)return triggerEvent(r,"htmx:validation:halted",T),maybeCall(w),J(),F;let p=n.split("#"),q=p[0],N=p[1],O=n;if(y&&(O=q,!v.keys().next().done&&(O.indexOf("?")<0?O+="?":O+="&",O+=urlEncode(v),N&&(O+="#"+N))),!verifyPath(r,O,T))return triggerErrorEvent(r,"htmx:invalidPath",T),maybeCall(H),J(),F;if(ae.open(e.toUpperCase(),O,!0),ae.overrideMimeType("text/html"),ae.withCredentials=T.withCredentials,ae.timeout=T.timeout,!g.noHeaders){for(let M in ye)if(ye.hasOwnProperty(M)){let j=ye[M];safelySetHeaderValue(ae,M,j)}}let I={xhr:ae,target:X,requestConfig:T,etc:f,boosted:A,select:$,pathInfo:{requestPath:n,finalRequestPath:O,responsePath:null,anchor:N}};if(ae.onload=function(){try{let M=hierarchyForElt(r);if(I.pathInfo.responsePath=getPathFromResponse(ae),B(r,I),I.keepIndicators!==!0&&removeRequestIndicators(D,P),triggerEvent(r,"htmx:afterRequest",I),triggerEvent(r,"htmx:afterOnLoad",I),!bodyContains(r)){let j=null;for(;M.length>0&&j==null;){let _=M.shift();bodyContains(_)&&(j=_)}j&&(triggerEvent(j,"htmx:afterRequest",I),triggerEvent(j,"htmx:afterOnLoad",I))}maybeCall(w)}catch(M){throw triggerErrorEvent(r,"htmx:onLoadError",mergeObjects({error:M},I)),M}finally{J()}},ae.onerror=function(){removeRequestIndicators(D,P),triggerErrorEvent(r,"htmx:afterRequest",I),triggerErrorEvent(r,"htmx:sendError",I),maybeCall(H),J()},ae.onabort=function(){removeRequestIndicators(D,P),triggerErrorEvent(r,"htmx:afterRequest",I),triggerErrorEvent(r,"htmx:sendAbort",I),maybeCall(H),J()},ae.ontimeout=function(){removeRequestIndicators(D,P),triggerErrorEvent(r,"htmx:afterRequest",I),triggerErrorEvent(r,"htmx:timeout",I),maybeCall(H),J()},!triggerEvent(r,"htmx:beforeRequest",I))return maybeCall(w),J(),F;var D=addRequestIndicatorClasses(r),P=disableElements(r);forEach(["loadstart","loadend","progress","abort"],function(M){forEach([ae,ae.upload],function(j){j.addEventListener(M,function(_){triggerEvent(r,"htmx:xhr:"+M,{lengthComputable:_.lengthComputable,loaded:_.loaded,total:_.total})})})}),triggerEvent(r,"htmx:beforeSend",I);let V=y?null:encodeParamsForBody(ae,r,v);return ae.send(V),F}function determineHistoryUpdates(e,n){let r=n.xhr,i=null,f=null;if(hasHeader(r,/HX-Push:/i)?(i=r.getResponseHeader("HX-Push"),f="push"):hasHeader(r,/HX-Push-Url:/i)?(i=r.getResponseHeader("HX-Push-Url"),f="push"):hasHeader(r,/HX-Replace-Url:/i)&&(i=r.getResponseHeader("HX-Replace-Url"),f="replace"),i)return i==="false"?{}:{type:f,path:i};let x=n.pathInfo.finalRequestPath,w=n.pathInfo.responsePath,H=n.etc.push||getClosestAttributeValue(e,"hx-push-url"),F=n.etc.replace||getClosestAttributeValue(e,"hx-replace-url"),B=getInternalData(e).boosted,$=null,X=null;return H?($="push",X=H):F?($="replace",X=F):B&&($="push",X=w||x),X?X==="false"?{}:(X==="true"&&(X=w||x),n.pathInfo.anchor&&X.indexOf("#")===-1&&(X=X+"#"+n.pathInfo.anchor),{type:$,path:X}):{}}function codeMatches(e,n){var r=new RegExp(e.code);return r.test(n.toString(10))}function resolveResponseHandling(e){for(var n=0;n<htmx.config.responseHandling.length;n++){var r=htmx.config.responseHandling[n];if(codeMatches(r,e.status))return r}return{swap:!1}}function handleTitle(e){if(e){let n=find("title");n?n.textContent=e:window.document.title=e}}function resolveRetarget(e,n){if(n==="this")return e;let r=asElement(querySelectorExt(e,n));if(r==null)throw triggerErrorEvent(e,"htmx:targetError",{target:n}),new Error(`Invalid re-target ${n}`);return r}function handleAjaxResponse(e,n){let r=n.xhr,i=n.target,f=n.etc,x=n.select;if(!triggerEvent(e,"htmx:beforeOnLoad",n))return;if(hasHeader(r,/HX-Trigger:/i)&&handleTriggerHeader(r,"HX-Trigger",e),hasHeader(r,/HX-Location:/i)){let le=r.getResponseHeader("HX-Location");var w={};le.indexOf("{")===0&&(w=parseJSON(le),le=w.path,delete w.path),w.push=w.push||"true",ajaxHelper("get",le,w);return}let H=hasHeader(r,/HX-Refresh:/i)&&r.getResponseHeader("HX-Refresh")==="true";if(hasHeader(r,/HX-Redirect:/i)){n.keepIndicators=!0,htmx.location.href=r.getResponseHeader("HX-Redirect"),H&&htmx.location.reload();return}if(H){n.keepIndicators=!0,htmx.location.reload();return}let F=determineHistoryUpdates(e,n),B=resolveResponseHandling(r),$=B.swap,X=!!B.error,z=htmx.config.ignoreTitle||B.ignoreTitle,ie=B.select;B.target&&(n.target=resolveRetarget(e,B.target));var Y=f.swapOverride;Y==null&&B.swapOverride&&(Y=B.swapOverride),hasHeader(r,/HX-Retarget:/i)&&(n.target=resolveRetarget(e,r.getResponseHeader("HX-Retarget"))),hasHeader(r,/HX-Reswap:/i)&&(Y=r.getResponseHeader("HX-Reswap"));var te=r.response,ee=mergeObjects({shouldSwap:$,serverResponse:te,isError:X,ignoreTitle:z,selectOverride:ie,swapOverride:Y},n);if(!(B.event&&!triggerEvent(i,B.event,ee))&&triggerEvent(i,"htmx:beforeSwap",ee)){if(i=ee.target,te=ee.serverResponse,X=ee.isError,z=ee.ignoreTitle,ie=ee.selectOverride,Y=ee.swapOverride,n.target=i,n.failed=X,n.successful=!X,ee.shouldSwap){r.status===286&&cancelPolling(e),withExtensions(e,function(J){te=J.transformResponse(te,r,e)}),F.type&&saveCurrentPageToHistory();var oe=getSwapSpecification(e,Y);oe.hasOwnProperty("ignoreTitle")||(oe.ignoreTitle=z),i.classList.add(htmx.config.swappingClass),x&&(ie=x),hasHeader(r,/HX-Reselect:/i)&&(ie=r.getResponseHeader("HX-Reselect"));let le=f.selectOOB||getClosestAttributeValue(e,"hx-select-oob"),ae=getClosestAttributeValue(e,"hx-select");swap(i,te,oe,{select:ie==="unset"?null:ie||ae,selectOOB:le,eventInfo:n,anchor:n.pathInfo.anchor,contextElement:e,afterSwapCallback:function(){if(hasHeader(r,/HX-Trigger-After-Swap:/i)){let J=e;bodyContains(e)||(J=getDocument().body),handleTriggerHeader(r,"HX-Trigger-After-Swap",J)}},afterSettleCallback:function(){if(hasHeader(r,/HX-Trigger-After-Settle:/i)){let J=e;bodyContains(e)||(J=getDocument().body),handleTriggerHeader(r,"HX-Trigger-After-Settle",J)}},beforeSwapCallback:function(){F.type&&(triggerEvent(getDocument().body,"htmx:beforeHistoryUpdate",mergeObjects({history:F},n)),F.type==="push"?(pushUrlIntoHistory(F.path),triggerEvent(getDocument().body,"htmx:pushedIntoHistory",{path:F.path})):(replaceUrlInHistory(F.path),triggerEvent(getDocument().body,"htmx:replacedInHistory",{path:F.path})))}})}X&&triggerErrorEvent(e,"htmx:responseError",mergeObjects({error:"Response Status Error Code "+r.status+" from "+n.pathInfo.requestPath},n))}}let extensions={};function extensionBase(){return{init:function(e){return null},getSelectors:function(){return null},onEvent:function(e,n){return!0},transformResponse:function(e,n,r){return e},isInlineSwap:function(e){return!1},handleSwap:function(e,n,r,i){return!1},encodeParameters:function(e,n,r){return null}}}function defineExtension(e,n){n.init&&n.init(internalAPI),extensions[e]=mergeObjects(extensionBase(),n)}function removeExtension(e){delete extensions[e]}function getExtensions(e,n,r){if(n==null&&(n=[]),e==null)return n;r==null&&(r=[]);let i=getAttributeValue(e,"hx-ext");return i&&forEach(i.split(","),function(f){if(f=f.replace(/ /g,""),f.slice(0,7)=="ignore:"){r.push(f.slice(7));return}if(r.indexOf(f)<0){let x=extensions[f];x&&n.indexOf(x)<0&&n.push(x)}}),getExtensions(asElement(parentElt(e)),n,r)}var isReady=!1;getDocument().addEventListener("DOMContentLoaded",function(){isReady=!0});function ready(e){isReady||getDocument().readyState==="complete"?e():getDocument().addEventListener("DOMContentLoaded",e)}function insertIndicatorStyles(){if(htmx.config.includeIndicatorStyles!==!1){let e=htmx.config.inlineStyleNonce?` nonce="${htmx.config.inlineStyleNonce}"`:"",n=htmx.config.indicatorClass,r=htmx.config.requestClass;getDocument().head.insertAdjacentHTML("beforeend",`<style${e}>.${n}{opacity:0;visibility: hidden} .${r} .${n}, .${r}.${n}{opacity:1;visibility: visible;transition: opacity 200ms ease-in}</style>`)}}function getMetaConfig(){let e=getDocument().querySelector('meta[name="htmx-config"]');return e?parseJSON(e.content):null}function mergeMetaConfig(){let e=getMetaConfig();e&&(htmx.config=mergeObjects(htmx.config,e))}return ready(function(){mergeMetaConfig(),insertIndicatorStyles();let e=getDocument().body;processNode(e);let n=getDocument().querySelectorAll("[hx-trigger='restored'],[data-hx-trigger='restored']");e.addEventListener("htmx:abort",function(i){let f=i.detail.elt||i.target,x=getInternalData(f);x&&x.xhr&&x.xhr.abort()});let r=window.onpopstate?window.onpopstate.bind(window):null;window.onpopstate=function(i){i.state&&i.state.htmx?(restoreHistory(),forEach(n,function(f){triggerEvent(f,"htmx:restored",{document:getDocument(),triggerEvent})})):r&&r(i)},getWindow().setTimeout(function(){triggerEvent(e,"htmx:load",{}),e=null},0)}),htmx})(),Ae=st;var Je=Ue(We()),Ke=Ue($e());Ae.config.includeIndicatorStyles=!1;Ae.config.selfRequestsOnly=!0;Ae.config.allowEval=!1;Ae.config.allowScriptTags=!1;Ae.on("htmx:beforeOnLoad",function(e){e.detail&&e.detail.xhr.status>=400&&(e.detail.shouldSwap=!0,e.detail.isError=!1)});Je.default.browserInit();(0,Ke.themeChange)();
